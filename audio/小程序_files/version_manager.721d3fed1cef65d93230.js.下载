(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{1182:function(e,i,t){"use strict";var a=t(729);t.n(a).a},1183:function(e,i,t){var a=t(11);(e.exports=t(2)(!1)).push([e.i,'/*\nHow to use\nfont-family: \'wechatnum\';\n*/\nbody .main_hd.with_extra {\n  overflow: unset;\n}\nbody .main_bd {\n  padding-top: 40px;\n}\n.empty_tips_loading {\n  margin-top: 40px;\n  background: white;\n}\n.code_version_log .weui-desktop-operation-group {\n  vertical-align: top;\n}\n.code_version_log .weui-desktop-operation-group .weui-desktop-operation-group_default {\n  height: auto;\n}\n.frm_msg {\n  display: block!important;\n}\n.main_hd_extra p:first-child {\n  padding-top: 0;\n}\n.main_hd_extra p {\n  overflow: hidden;\n  padding-top: 10px;\n}\n.main_hd_extra p label {\n  float: left;\n  width: 6em;\n  margin-right: 1em;\n  color: #9a9a9a;\n}\n.main_hd_extra p span {\n  display: block;\n  overflow: hidden;\n}\n.weui-desktop-btn.arrowBtn {\n  min-width: 0;\n  padding: 0 12px;\n  margin-left: 10px;\n}\n.simple_tips_list.split {\n  padding-bottom: 20px;\n  margin-bottom: 10px;\n  border-bottom: 1px dashed #e7e7eb;\n}\nul.simple_tips_list .simple_tips_item:before {\n  color: #e7e7eb;\n  content: "\\25CF";\n  margin-right: 1em;\n  font-size: 14px;\n}\nol.simple_tips_list {\n  counter-reset: num;\n}\nol.simple_tips_list .simple_tips_item:before {\n  counter-increment: num;\n  content: counter(num) ".";\n  margin-right: 0.5em;\n  font-size: 14px;\n}\n.simple_tips_item {\n  color: #9a9a9a;\n  margin: 10px 0;\n}\n.simple_tips_item:before {\n  float: left;\n}\n.simple_tips_content {\n  overflow: hidden;\n}\n.vm_item {\n  display: table-cell;\n  vertical-align: middle;\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.vm_item_default {\n  white-space: nowrap;\n}\n.vm_item_primary {\n  width: 2000px;\n}\n.simple_preview_title {\n  border-bottom: 1px solid #e7e7eb;\n  padding-bottom: 5px;\n  margin-bottom: 5px;\n}\n.simple_preview_title a {\n  margin-left: 0.5em;\n}\n.simple_preview_label {\n  float: left;\n  width: 5em;\n  margin-right: 1em;\n}\n.simple_preview_value {\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.simple_preview_item,\n.simple_preview_value {\n  overflow: hidden;\n  *zoom: 1;\n}\n.mod_global_msg {\n  padding: 30px 0;\n}\n.page_global_msg.page_msg.mini {\n  margin-bottom: 10px;\n}\n.page_global_msg.page_msg.mini .inner {\n  background: #eff1f3;\n  padding: 0 8px;\n  height: 32px;\n  line-height: 32px;\n  border-radius: 4px;\n}\n.page_global_msg.page_msg.mini .msg_icon_wrp {\n  margin-top: 0;\n}\n.code_initial_box {\n  text-align: center;\n  padding-top: 100px;\n}\n.code_initial_box .tips_global {\n  padding-bottom: 5px;\n}\n.code_mod .empty_tips {\n  padding: 60px 0;\n}\n.code_mod h4 {\n  font-weight: 400;\n}\n.code_mod .default_box_inner {\n  border: 0;\n  padding: 0;\n}\n.mod_default_box {\n  margin-bottom: 30px;\n}\n.code_info_list {\n  overflow: hidden;\n}\n.code_info_meta {\n  line-height: 2;\n  overflow: hidden;\n}\n.code_info_meta label {\n  float: left;\n  margin-right: 1em;\n  color: #9a9a9a;\n  width: 6em;\n}\n.code_info_meta p {\n  overflow: hidden;\n  word-wrap: break-word;\n  word-break: break-all;\n}\n.code_info_meta .mini_tips {\n  margin-left: 1em;\n}\n.code_info_meta .mini_tips:first-child {\n  margin-left: 0;\n}\n.code_info_opr {\n  float: right;\n  margin-left: 30px;\n  text-align: right;\n}\n.code_info_opr a {\n  margin-left: 1em;\n}\n.code_info_opr a:first-child {\n  margin-left: 0;\n}\n.code_version_log {\n  margin-bottom: 30px;\n  padding-bottom: 30px;\n  border-bottom: 1px solid #e7e7eb;\n}\n.code_version_log .simple_preview_item:first-child {\n  padding-top: 0;\n}\n.code_version_log .simple_preview_label {\n  color: #9a9a9a;\n}\n.code_version_log:last-child {\n  margin-bottom: 0;\n  border-bottom: 0;\n  padding-bottom: 0;\n}\n.code_version_log_hd {\n  float: left;\n  width: 120px;\n}\n.code_version_log_hd .simple_preview_label {\n  float: none;\n}\n.code_version_log_hd .simple_preview_value {\n  font-size: 22px;\n  display: block;\n  padding-top: 2px;\n}\n.simple_preview_value .ask {\n  vertical-align: middle;\n  margin-top: -4px;\n}\n.code_version_log_ft {\n  float: right;\n  margin-left: 30px;\n}\n.code_version_log_bd {\n  overflow: hidden;\n}\n.code_version_table .version {\n  width: 80px;\n}\n.code_version_table .nickname {\n  width: 100px;\n}\n.code_version_table .date {\n  width: 165px;\n}\n.code_check_form create_access_primary {\n  width: 116px;\n}\n.code_check_setting_item {\n  padding-bottom: 25px;\n}\n.simple_preview_item {\n  padding-top: 14px;\n}\n.simple_preview_label {\n  color: #9a9a9a;\n  width: 6em;\n}\n.status_popover .simple_preview_item {\n  padding-top: 0;\n}\n.status_popover .simple_preview_label {\n  width: 4em;\n}\n.detail_dialog .simple_preview_label {\n  width: 6em;\n}\n.detail_dialog .simple_dialog_content {\n  width: 380px;\n}\n.default_row_box {\n  display: table;\n  width: 100%;\n}\n.default_row_box .default_cell_box {\n  display: table-cell;\n  width: 50%;\n}\n.default_row_box .code_version_online {\n  margin-right: 15px;\n}\n.default_row_box .code_version_test {\n  margin-left: 15px;\n}\n.code_help_popover {\n  width: 400px;\n}\n.icon_code_qrcode {\n  cursor: pointer;\n  background: url('+a(t(531))+") 0 0 no-repeat;\n  width: 12px;\n  height: 12px;\n  vertical-align: middle;\n  display: inline-block;\n  line-height: 300px;\n  overflow: hidden;\n  margin-top: -2px;\n}\n.status_tag:hover .icon_code_qrcode {\n  background: url("+a(t(531))+") 0 -16px no-repeat;\n}\n.global_dropdown_switch_opr {\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  cursor: pointer;\n  font-size: 0;\n  color: #9a9a9a;\n}\n.global_dropdown_switch_opr .global_dropdown_switch_opr_btn {\n  min-width: 30px;\n}\n.global_dropdown_switch_opr .global_dropdown_switch {\n  min-width: 0;\n  padding: 0 11px;\n  margin-left: 0.7em;\n}\n.global_dropdown_switch_opr_pop {\n  border-radius: 4px;\n  -moz-border-radius: 4px;\n  -webkit-border-radius: 4px;\n  box-shadow: 0 0 20px #e4e8eb;\n  -moz-box-shadow: 0 0 20px #e4e8eb;\n  -webkit-box-shadow: 0 0 20px #e4e8eb;\n  background-color: #fff;\n  text-align: center;\n  font-size: 14px;\n  position: absolute;\n  top: 100%;\n  right: -45px;\n  margin-top: 10px;\n  z-index: 9;\n}\n.global_dropdown_switch_opr_pop a {\n  text-decoration: none;\n  color: #353535;\n  display: block;\n  min-width: 90px;\n  padding: 0 22px;\n  line-height: 40px;\n  width: auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-wrap: normal;\n  border-top: 1px solid #e7e7eb;\n}\n.global_dropdown_switch_opr_pop a:first-child {\n  border-top-width: 0;\n}\n.exp_version_dialog .dialog_bd {\n  padding-bottom: 30px;\n}\n.exp_version_dialog .dialog_bd .tool_bar {\n  margin-top: 70px;\n}\n.exp_version_primary_dialog .dialog_bd {\n  padding-bottom: 30px;\n}\n.exp_version_primary_dialog .weui-desktop-dialog {\n  width: 620px;\n}\n.weui-desktop-experAndEditPath .weui-desktop-dialog {\n  width: 620px;\n}\n.exp_version_primary_dialog .exp_version_box .code_qrcode {\n  display: inline-block;\n  vertical-align: top;\n  padding: 12px;\n  background-color: #f6f8f9;\n}\n.exp_version_primary_dialog .exp_version_box .code_qrcode_text {\n  padding: 40px 0;\n  text-align: center;\n}\n.exp_version_primary_dialog .exp_version_box .pic_code_qrcode_wrp {\n  font-size: 0;\n}\n.exp_version_primary_dialog .exp_version_box .pic_code_qrcode {\n  width: 165px;\n  height: 165px;\n  display: inline-block;\n}\n.exp_version_primary_dialog .exp_version_box .code_qrcode_title {\n  padding: 14px 0 0;\n}\n.exp_version_primary_dialog .url_preview_area {\n  padding-top: 22px;\n  padding-bottom: 30px;\n}\n.exp_version_box .code_qrcode_download_tips {\n  padding-bottom: 30px;\n  text-align: center;\n}\n.exp_version_box .code_qrcode {\n  padding: 15px;\n  background-color: #f6f8f9;\n}\n.exp_version_box .code_qrcode_text {\n  padding-left: 20px;\n  text-align: left;\n}\n.exp_version_box .pic_code_qrcode {\n  width: 145px;\n  height: 145px;\n  display: block;\n}\n.exp_version_box .code_qrcode_title {\n  display: block;\n  font-weight: 400;\n  padding-bottom: 0.5em;\n}\n.exp_version_box .code_qrcode_program_icon {\n  position: absolute;\n  display: block;\n  width: 36px;\n  height: 36px;\n  background-size: cover;\n  background-position: center;\n  border-radius: 50%;\n  -moz-border-radius: 50%;\n  -webkit-border-radius: 50%;\n  top: 50%;\n  left: 50%;\n  margin-left: -18px;\n  margin-top: -18px;\n}\n.code_qrcode_download_box {\n  text-align: center;\n}\n.code_qrcode_download_box .tool_bar {\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.code_qrcode_download_dialog .dialog_bd {\n  padding: 20px 45px 26px;\n}\n.code_qrcode_download_dialog .qrcheck_box {\n  padding: 50px 0 90px;\n}\n.code_submit_dialog .page_msg {\n  margin-top: 60px;\n}\n.frm_input_opr_append {\n  font-weight: 400;\n  font-style: normal;\n  font-size: 14px;\n}\n.frm_input_opr_append .frm_input_box {\n  padding-right: 10px;\n}\n.frm_input_opr_append .frm_input_append {\n  width: 60px;\n  text-align: left;\n  right: 75px;\n}\n.icon_input_opr {\n  width: 22px;\n  height: 22px;\n  vertical-align: middle;\n  display: inline-block;\n  cursor: pointer;\n  margin-left: 5px;\n  margin-top: -0.2em;\n}\n.icon_input_add {\n  background: url("+a(t(531))+") 0 -32px no-repeat;\n}\n.icon_input_add:hover {\n  background: url("+a(t(531))+") 0 -58px no-repeat;\n}\n.icon_input_del {\n  background: url("+a(t(531))+") 0 -84px no-repeat;\n}\n.icon_input_del:hover {\n  background: url("+a(t(531))+") 0 -110px no-repeat;\n}\n.server_url_dialog .dialog_bd {\n  padding-bottom: 45px;\n  position: relative;\n}\n.server_url_content .frm_label {\n  width: 7em;\n}\n.server_url_content .frm_control_group {\n  padding-bottom: 1em;\n}\n.server_url_content .extra_tips {\n  text-align: center;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  color: #9a9a9a;\n}\n.server_url_rich_area {\n  padding-top: 30px;\n  min-height: 185px;\n}\n.url_preview_area {\n  word-wrap: break-word;\n  word-break: break-all;\n  border-top: 1px solid #e7e7eb;\n  padding-top: 16px;\n  padding-bottom: 20px;\n}\n.url_preview_area .frm_label {\n  width: 3em;\n  color: #9a9a9a;\n}\n.url_preview {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n}\n.comfirm_version_dialog .dialog_bd {\n  padding: 0;\n  max-height: 420px;\n  overflow-y: auto;\n}\n.comfirm_version_dialog .comfirm_version_box {\n  padding: 45px;\n}\n.comfirm_version_dialog .comfirm_version_hd {\n  text-align: center;\n}\n.comfirm_version_dialog .weapp_code {\n  width: 180px;\n  height: 180px;\n}\n.comfirm_version_dialog .comfirm_version_bd {\n  padding-top: 20px;\n  margin-top: 20px;\n  border-top: 1px solid #e7e7eb;\n}\n.comfirm_version_dialog .frm_control_group {\n  padding-bottom: 10px;\n}\n.comfirm_version_dialog .frm_label {\n  color: #9a9a9a;\n  width: 7em;\n}\n.gray_detail_dialog .dialog_bd {\n  padding: 30px 45px 0;\n}\n.gray_detail_dialog .simple_preview_box {\n  padding-bottom: 30px;\n}\n.gray_detail_dialog .simple_preview_box:last-child {\n  padding-bottom: 20px;\n}\n.gray_detail_dialog .simple_preview_title {\n  border-bottom-width: 0;\n  font-weight: 400;\n}\n.gray_detail_dialog .simple_preview_title + .simple_preview_item {\n  padding-top: 0;\n}\n.gray_detail_dialog .simple_preview_label {\n  width: 10em;\n}\n.gray_release_form .frm_label {\n  width: 8em;\n}\n.notice_config_dialog .frm_radio_group + .frm_tips {\n  padding-top: 8px;\n}\n.notice_config_dialog .dialog_bd {\n  height: 450px;\n  overflow-y: auto;\n  box-sizing: border-box;\n  padding: 45px 45px 0;\n}\n.notice_config_dialog .extra-info__title {\n  color: #9a9a9a;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #e7e7eb;\n  margin-bottom: 10px;\n  cursor: default;\n}\n.notice_config_dialog .extra-info__area .frm_control_group:last-child {\n  padding-bottom: 0;\n}\n.notice_config_dialog .frm_label {\n  width: 6em;\n}\n.notice_config_dialog .frm_textarea_box {\n  display: block;\n  width: auto;\n  margin-bottom: 0;\n}\n.notice_config_dialog .frm_counter {\n  text-align: right;\n  display: block;\n  padding-right: 10px;\n}\n.notice_config_dialog .frm_textarea {\n  height: 80px;\n}\n.mod_default_bd .pagination {\n  padding-top: 20px;\n  border-top: 1px solid #e7e7eb;\n  margin-top: 30px;\n}\n.plugin-item__row {\n  display: inline-block;\n}\n.plugin-item__row > * {\n  vertical-align: middle;\n}\n.plugin-item__row .plugin-avatar {\n  width: 20px;\n  height: 20px;\n  border-radius: 100%;\n  margin-top: -2px;\n}\n.plugin-item__row .plugin-name {\n  font-weight: normal;\n}\n.plugin-item__row + .ask {\n  margin-left: 2px;\n}\n.muti_msg_dialog .page_msg.large .inner {\n  padding: 40px 14px 10px;\n}\n.muti_msg_dialog .page_msg .msg_desc_context {\n  text-align: center;\n}\n.comfirm_version_dialog tbody .table_cell,\n.comfirm_version_dialog thead .table_cell {\n  height: 20px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  line-height: 1.4;\n}\n.choose-version__content {\n  padding: 20px 32px;\n}\n.choose-version__content .choose-version__tips {\n  margin-bottom: 10px;\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 2) {\n.icon_code_qrcode {\n    background: url("+a(t(532))+") 0 0 no-repeat;\n    background-size: 22px auto;\n}\n.status_tag:hover .icon_code_qrcode {\n    background: url("+a(t(532))+") 0 -16px no-repeat;\n    background-size: 22px auto;\n}\n.icon_input_add {\n    background: url("+a(t(532))+") 0 -32px no-repeat;\n    background-size: 22px auto;\n}\n.icon_input_add:hover {\n    background: url("+a(t(532))+") 0 -58px no-repeat;\n    background-size: 22px auto;\n}\n.icon_input_del {\n    background: url("+a(t(532))+") 0 -84px no-repeat;\n    background-size: 22px auto;\n}\n.icon_input_del:hover {\n    background: url("+a(t(532))+") 0 -110px no-repeat;\n    background-size: 22px auto;\n}\n}\n.gray_release_form .weui-desktop-form__label {\n  width: 8em;\n  margin-top: 0.43em;\n  margin-right: 1em;\n}\n.gray_release_form .weui-desktop-form-tag__area {\n  min-height: 100px;\n  border: none;\n}\n.gray-release-whitelist-tags__wrp {\n  border: 1px solid #e4e8eb;\n  position: relative;\n}\n.gray-release-whitelist-tags__wrp .counter__wrp {\n  text-align: right;\n  padding: 6px 10px;\n  color: #9A9A9A;\n}\n.mptag_tips {\n  position: absolute;\n  top: 0px;\n  color: #9A9A9A;\n  padding: 6px 10px;\n  pointer-events: none;\n}\n.gray-release-whitelist-checkbox__wrp {\n  margin-top: 0.43em;\n  margin-bottom: 10px;\n}\n.label_with-ask > * {\n  vertical-align: middle;\n}\n.label_with-ask .weui-desktop-popover__wrp {\n  margin-left: 4px;\n}\n.label_with-ask .weui-desktop-icon__tips {\n  position: relative;\n  top: 3px;\n}\n.weui-desktop-form-tag.disabled {\n  opacity: 0.5;\n}\n.weui-desktop-form-tag.disabled .weui-desktop-opr-btn_close {\n  display: none;\n}\n.weui-desktop-form-tag.error {\n  color: #FA5151;\n}\n.weui-desktop-form-tag__name {\n  max-width: 10em;\n}\n.weui-desktop-form-tag__input {\n  width: 98%;\n}\n.gray_dialog {\n  padding-bottom: 0px;\n}\n.added_num {\n  color: #FA5151;\n}\n.mr {\n  margin: 0 10px;\n}\n.slider_c {\n  width: 90%;\n  display: inline-block;\n  vertical-align: middle;\n}\n",""])},1435:function(e,i,t){"use strict";t.r(i);var a=t(12),s=t.n(a),n=t(1),o=t(14),r=t(112),l=function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,i){var t=[],a=!0,s=!1,n=void 0;try{for(var o,r=e[Symbol.iterator]();!(a=(o=r.next()).done)&&(t.push(o.value),!i||t.length!==i);a=!0);}catch(e){s=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(s)throw n}}return t}(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(e,i,t,a){return new(t||(t=Promise))((function(s,n){function o(e){try{l(a.next(e))}catch(e){n(e)}}function r(e){try{l(a.throw(e))}catch(e){n(e)}}function l(e){e.done?s(e.value):new t((function(i){i(e.value)})).then(o,r)}l((a=a.apply(e,i||[])).next())}))},_=Object(o.a)({}),p=location.href.indexOf("mock=1")>=0?"/mock":"",d={namespaced:!0,mutations:{setData:function(e,i){Object.assign(e,i)}},actions:{fetchData:function(e){var i=e.commit,t=e.rootState;return c(this,void 0,void 0,s.a.mark((function e(){var a,n,o,r,c,d,m,v,g,u,f,h,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},n={},o=!1,r=!1,e.next=6,Promise.all([_.get("/wxopen/wacodepage?action=getcodepage"),_.get("/version/getHistoryVersionList"),_.get("/version/contain_ugc"),_.get("/setting/getSensitiveContent"),_.get("/newtmpl/get_category"),_.get("/setting/getugc")]);case 6:return c=e.sent,d=l(c,6),m=d[0],v=d[1],g=d[2],u=d[3],f=d[4],d[5].ret||(o=!0),f.data&&f.data.forEach((function(e){var i=e.value;r||794!==i&&872!==i&&800!==i||(r=!0)})),e.next=18,_.get(p+"/wxopen/authprofile?action=index&use_role=1");case 18:h=e.sent,0===m.ret&&(b=JSON.parse(m.code_data),n=t.userInfo,delete m.ret,a=Object.assign({},m,{is_game:4==n.appServiceType,logo:n.iconUrl,nick_name:m.user_nick_name,app_service_type:n.appServiceType,minigame_freeze_status:n.minigameFreezeStatus,data:b,contain_ugc:g.containUGC,sensitive_tag:u.tags,is_setugc:o,is_category_catch:r,biz_normal_total:0===h.ret?h.biz_normal_total:0,biz_expr_total:0===h.ret?h.biz_expr_total:0,historyVersionList:v.versionList||[]})),i("setData",a);case 21:case"end":return e.stop()}}),e,this)})))}},state:{is_game:"",is_setugc:!1,is_category_catch:!1,data:{online_info:null,experience_info:null,develop_info:{info_list:[]},developer_size:0},logo:"",is_init:"",category_num:"",is_boutique:"",need_game_intro:"",has_game_intro_checking:"",b_released:"",name_status:"",name_content:"",nick_name:"",currentPath:"",app_service_type:0,minigame_freeze_status:"",forbidden_flag:"",self_open_flag:"",submit_check_ban_info:{is_banned:0,ban_app_function_record_id:"",reason_description:"",reason_category:""},release_ban_info:{is_banned:0,ban_app_function_record_id:"",reason_description:"",reason_category:""},can_submit_check:"",contain_ugc:!1,sensitive_tag:[],historyVersionList:[]}};r.default.store.registerModule("cgiData",d);var m=t(6),v=t(10),g=t(75),u=t(322),f=t.n(u),h=t(873),b=function(e,i,t,a){return new(t||(t=Promise))((function(s,n){function o(e){try{l(a.next(e))}catch(e){n(e)}}function r(e){try{l(a.throw(e))}catch(e){n(e)}}function l(e){e.done?s(e.value):new t((function(i){i(e.value)})).then(o,r)}l((a=a.apply(e,i||[])).next())}))},x=Object(o.a)({}),w=Object(v.a)("cgiData"),C=w.mapActions,y=w.mapMutations,k=1,D=5,S=4,T=n.default.extend({name:"VersionManager",computed:Object.assign({},Object(v.e)(["cgiData","userInfo"]),{devTable:function(){return{data:this.cgiData.data.develop_info.info_list,dev_user_count:this.cgiData.data.develop_info.developer_size,experience_info:this.cgiData.data.experience_info,has_exper:this.has_exper,gray_info:this.cgiData.data.gray_info,can_submit_check:this.cgiData.can_submit_check}},onlineTable:function(){return{online_info:this.cgiData.data.online_info,gray_info:this.cgiData.data.gray_info}},experience_info:function(){return this.cgiData.data.experience_info},testOptions:function(){return[{label:2==this.experience_info.basic_info.status?"撤回审核":"详情",value:2==this.experience_info.basic_info.status?5:6}]},isGame:function(){return 4===this.userInfo.appServiceType},tagMaxSize:function(){return this.constMaxTagSize-this.grayedWxNameList.length},grayedWxNameList:function(){return this.cgiData.data.gray_info&&this.cgiData.data.gray_info.priority_user_info&&this.cgiData.data.gray_info.priority_user_info.user_list||[]},groupMemberInGrayListFromSvr:function(){var e=this.cgiData.data.gray_info;return!(!e||!e.priority_user_info||1!=e.priority_user_info.support_debuger_frist&&1!=e.priority_user_info.support_experiencer_frist)&&(this.groupMemberInGrayList=!0,!0)},versionBackDataNew:function(){var e=this;if(!this.versionBackSelectVersion)return{};var i={};return this.cgiData.historyVersionList.forEach((function(t){t.version===e.versionBackSelectVersion&&(i=t)})),i}}),filters:{filterSpace:function(e){return e&&e.replace(/\&nbsp;/g," ")},unixFormat:function(e,i){return e?f.a.unix(e).format(i||"YYYY-MM-DD HH:mm:SS"):"-"}},inject:["reload"],data:function(){return{has_exper:!1,devShowMenu:[],onlineShowMenu:[],onlineOptions:[[{label:"版本回退",value:3},{label:"暂停服务",value:2}],[{label:"提升发布比例",value:3},{label:"撤销发布",value:4}]],devOptions:[],testShowMenu:!1,loading:!0,delExpVersionDialog:!1,waitingDelDev:null,wxscanCodeDialog:!1,wxscanCodeDialogTitle:"微信认证",wxscanCodeDialogData:{},wxscanCodeClassName:"",onSuccess:null,submitConfirmDialog:!1,isChecked:!1,confirmDataTemp:{openid:"",username:""},accessExperVersion:!1,accessExperTplData:{},experAndEditPath:!1,pathValue:"",experAndEditPathTitle:"",isview:!1,experIndex:0,accessExperLock:!1,grayPublishTplData:{},grayPublishDialog:!1,versionBackUp:!1,versionBackData:{},versionBackScanCode:!1,versionBackScanCodeData:{},showVersionBackDialog:!1,historyVersionList:[],versionBackSelectVersion:0,versionBackDialogStep:1,versionBackScanCodeNew:!1,versionBackScanCodeDataNew:{},versionDeatil:!1,versionInfo:{basic_info:{},detail_info:{check_data:{}}},versionTpl:0,publishModeOptions:[{label:"全量发布",value:0},{label:"灰度发布",value:1}],publishMode:0,grayValue:0,publishErr:"",showGameTestButton:!1,needFestivalTips:!1,agreeFestivalTips:!1,dialogName:"",dataContent:{},hasPromptSensitive:-1!==location.href.indexOf("hasPromptSensitive=1"),showList:!1,wxNameList:[],wxNameErrorList:[],showTagTips:!0,constMaxTagSize:100,groupMemberInGrayList:!1,constMaxListSize:2e3,showReachMaxListTips:!1}},watch:{grayValue:function(e){var i=this.cgiData.data;e<1?this.publishErr="发布比例不得为0":i.gray_info&&e<=i.gray_info.gray_percent?this.publishErr="发布比例不能低于当前已发布比例":this.publishErr=""}},components:{QrCheck:g.a,dialogSet:h.a},created:function(){this.SET_PAGE_INFO({simple:!1})},mounted:function(){return b(this,void 0,void 0,s.a.mark((function e(){var i,t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:i=this.cgiData.data,t=0;case 4:if(!(t<i.develop_info.info_list.length)){e.next=11;break}if(!i.develop_info.info_list[t].is_exper){e.next=8;break}return this.has_exper=!0,e.abrupt("break",11);case 8:t++,e.next=4;break;case 11:i.experience_info&&this.setData({currentPath:i.experience_info.qr_path}),1==this.cgiData.minigame_freeze_status&&((a=Object.assign({},this.cgiData.submit_check_ban_info)).reason_description="正在冻结中",a.reason_category=1,this.setData({submit_check_ban_info:a})),this.initData(),this.loading=!1;case 15:case"end":return e.stop()}}),e,this)})))},methods:Object.assign({},Object(v.c)(["SET_PAGE_INFO"]),C(["fetchData"]),y(["setData"]),{initData:function(){var e=this;this.devTable.data.forEach((function(i){e.devShowMenu.push(!1);var t=[{label:"删除",value:2}];i.is_exper?(4!=e.cgiData.app_service_type&&t.unshift({label:"修改页面路径",value:4}),t.unshift({label:"取消体验",value:3})):t.unshift({label:"选为体验版本",value:0}),e.devOptions.push(t)})),x.get("/game/cloud/haspermission").then((function(i){i.has&&(e.showGameTestButton=!0,e.devTable.data.forEach((function(i,t){i.is_exper&&e.devOptions[t].splice(0,0,{label:"云测试服务",value:10})})))}))},report:function(e){(new Image).src=location.protocol+"//mp.weixin.qq.com/mp/jsmonitor?idkey=65427_"+e+"_1&r="+Math.random()},delTestVersion:function(){var e=this,i=this.experience_info.basic_info.open_id;this.init_qrcheck(S,"删除当前版本",this.experience_info,(function(t){x.post("/wxopen/waexperiencecode?action=delete",{openid:i,ticket:t,version:e.experience_info.basic_info.version}).then((function(i){0==i.ret?(e.wxscanCodeDialog=!1,e.report(20),e.$tips({type:"success",message:"删除成功"}),e.reload(),e.$monitor(85)):e.$monitor(86)}))}))},downloadCode:function(e){window.open(Object(m.a)("/wxopen/basicprofile?action=download_qrcode&type=1&openid="+e))},qrcode_url:function(e,i,t){var a=i+(t?"?"+t:"");return Object(m.a)("/wxopen/basicprofile?action=get_qrcode&type=1&openid="+e+(a?"&use_path=1&path="+encodeURIComponent(a):""))},nextSubmit:function(){var e=this;this.isChecked?(this.submitConfirmDialog=!1,this.showLoginTips((function(i){i&&e.nextConfirm()}))):this.$tips({type:"error",message:"请阅读并了解平台审核规则"})},nextConfirm:function(){var e=this;if(this.cgiData.is_boutique)if(this.isChecked){this.submitConfirmDialog=!1;var i=this.$dialog({title:"达标小程序奖励",type:"info",msg:'2小时极速审核|<div class="msg_desc_context"><p>你的小程序本月评测达标，可进入2小时极速审核通道，工作时间：0点-24点。更多信息可查看\n                  <a href="/wxamp/score/index/result?token='+e.$route.query.token+'">评测结果</a></p></div>',className:"code_submit_dialog dialog_with_tool_context dialog_fix_bd_height",buttons:[{text:"下一步",type:"primary",click:function(){e.report(17),e.goSubmitPage(),i.remove(),e.$monitor(74)}},{text:"取消",type:"default",click:function(){i.remove()}}]})}else this.$tips({type:"error",message:"请阅读并了解平台审核规则"});else this.isChecked?(this.report(17),this.goSubmitPage(),this.submitConfirmDialog=!1,this.$monitor(74)):this.$tips({type:"error",message:"请阅读并了解平台审核规则"})},goSubmitPage:function(){this.isGame?window.open(Object(m.a)("/wxamp/frame/pluginRedirect/pluginRedirect?action=plugin_redirect&title=提交审核&plugin_uin=1005&lang=zh_CN&nosidebar=1&t=config/game_change&simple=1&custom="+encodeURIComponent("pageR=arraignment&developerid="+this.confirmDataTemp.openid+"&user_name="+this.confirmDataTemp.username))):window.open("/wxamp/wadevelopcode/get_class?action=get_class&token="+this.$route.query.token+"&lang=zh_CN&openid="+this.confirmDataTemp.openid+"&user_name="+encodeURI(this.confirmDataTemp.username))},doFastUpdate:function(e){var i=this,t={};this.devTable.gray_info||this.devTable.data.forEach((function(e){0===e.basic_info.status&&e.basic_info.is_plugin_auto_update&&(t={openid:e.basic_info.open_id,pluginAppid:e.basic_info.plugin_auto_update_info.appid,customVersion:e.basic_info.plugin_auto_update_info.new_custom_version})})),this.init_qrcheck(D,"发布版本",e,(function(e){x.post("/wxopen/waexperiencecode?action=plugin_auto_update_release",{openid:t.openid,ticket:e,plugin_appid:t.pluginAppid,custom_version:t.customVersion}).then((function(e){0===e.ret&&(i.wxscanCodeDialog=!1,i.$tips({type:"success",message:"发布版本成功"}),i.reload())}))}))},quickPublish:function(e,i){var t=this,a=this.$dialog({title:"快速发布",type:"info",msg:"当前版本为插件快速更新版本，无需提交审核即可发布，请确认是否发布新版本",buttons:[{text:"发布",type:"primary",click:function(){a.remove();var e=t.cgiData.data.experience_info;if(!e||2!==e.basic_info.status&&3!==e.basic_info.status)t.doFastUpdate(i);else var s=t.$dialog({title:"快速发布",type:"info",msg:"已有审核版本，确认发布快速更新版本吗？|当前已存在审核版本，如果在快速更新版本发布后再发布当前的审核版本，将使插件版本降低到审核版本中使用的插件版本。建议在当前审核版本发布后再进行快速更新的发布操作。",buttons:[{text:"暂不发布",type:"primary",click:function(){s.remove()}},{text:"继续发布",type:"default",click:function(e){s.remove(),t.doFastUpdate(i)}}]})}},{text:"体验",type:"default",click:function(){a.remove(),t.selectDevItem(e,{label:"选为体验版本",value:0})}},{text:"取消",type:"default",click:function(){a.remove()}}]})},submitPublish:function(){var e=this,i=this.experience_info.basic_info.open_id;if(""==this.cgiData.nick_name)this.$dialog({title:"提交发布的相关须知",msg:"当前小程序账号暂未设置名字，请先设置小程序名字后再进行发布",type:"info"});else if(this.cgiData.release_ban_info.is_banned)var t=this.cgiData.release_ban_info,a=this.$dialog({title:"提交发布",msg:"暂时无法提交发布|你好，该版本暂时无法发布"+(1!=t.reason_category?"，"+t.reason_description+"并发起申诉，通过后可恢复正常":"")+"。",type:"info",buttons:1!=t.reason_category?[{text:"发起申诉",type:"primary",click:function(){window.open(e.addToken("/wxopen/frame?action=plugin_redirect&nodesc=1&punish_id="+t.ban_app_function_record_id+"&nosidebar=1&t=config/game_change&custom=%26tk%3D1213829769%26pageR%3Dnewcomplain%26mod%3Dintro&title=%e5%b8%90%e5%8f%b7%e7%94%b3%e8%af%89&plugin_uin=1005")),a.remove()}},{text:"取消",type:"default",click:function(){a.remove()}}]:[{text:"确定",click:function(){a.remove()}}]});else this.cgiData.data.online_info?(console.log("？？？？发布灰度版本？？？"),this.showGrayDialog({title:"发布线上版本"})):(console.log("没有线上版本？？？？"),this.showPublishDialog(i))},showPublishDialog:function(e){var i=this;this.init_qrcheck(D,"发布版本",this.experience_info,(function(t){x.post("/wxopen/waexperiencecode?action=release",{openid:e,ticket:t,version:i.experience_info.basic_info.version}).then((function(e){0==e.ret?(i.wxscanCodeDialog=!1,i.report(21),i.$tips({type:"success",message:"发布版本成功"}),i.$monitor(81),i.reload()):i.$monitor(82)}))}))},graySubmit:function(){var e,i=this.publishMode,t=this.grayValue,a=this.cgiData.data,s=0==i?100:t;if(!(s<1)&&!((e=a.gray_info?a.gray_info:a.experience_info).gray_percent&&s<=e.gray_percent))if(this.grayPublishDialog=!1,0!=i)if(e.percentage=s,e.first_gray_time?(e.first_gray_time_str=f.a.unix(e.first_gray_time).format("YYYY-MM-DD HH:mm:SS"),e.all_gray_time_str=f.a.unix(e.all_gray_time).format("YYYY-MM-DD HH:mm:SS")):(e.first_gray_time_str=f.a.unix(+new Date/1e3).format("YYYY-MM-DD HH:mm:SS"),e.all_gray_time_str=f.a.unix(+new Date/1e3).add(15,"days").format("YYYY-MM-DD HH:mm:SS")),e.groupMemberInGrayList=this.groupMemberInGrayList,e.wxNameList=this.wxNameList,100==e.percentage)var n=this,o=this.$dialog({title:"发布线上版本",type:"info",msg:"灰度比例设为100%后，即提前全量发布|该灰度版本即作为线上版本使用，灰度比例不再支持编辑",buttons:[{text:"确认发布",click:function(){o.remove(),n.doGray(e)}},{text:"返回修改",click:function(){o.remove(),n.showGrayDialog({title:"提升灰度范围",percent:100})}}]});else this.doGray(e);else this.showPublishDialog(e.basic_info.open_id)},sliderChange:function(e){this.grayValue=e},doGray:function(e){var i=this;this.init_qrcheck(11,"灰度发布版本",e,(function(t){x.post("/wxopen/waexperiencecode?action=gray_release",{openid:e.basic_info.open_id,ticket:t,version:e.basic_info.version,percentage:e.percentage,priority_user_info:JSON.stringify({user_list:e.wxNameList,support_debuger_frist:e.groupMemberInGrayList?1:0,support_experiencer_frist:e.groupMemberInGrayList?1:0})}).then((function(e){0==e.ret&&(i.wxscanCodeDialog=!1,i.report(22),i.$tips({type:"success",message:"发布版本成功"}),i.reload())}))}))},InputChange:function(e){parseInt(e)&&(this.grayValue=parseInt(e)>100?100:parseInt(e))},publishModeChange:function(){this.publishErr=""},showGrayDialog:function(e){var i=0,t="",a=this.cgiData.data;a.gray_info&&a.gray_info.gray_percent&&(i=a.gray_info.gray_percent,t=f.a.unix(a.gray_info.all_gray_time).format("YYYY-MM-DD HH:mm:SS"),1,this.publishMode=1),this.grayPublishDialog=!0,this.grayValue=i||0,this.grayPublishTplData={old_percent:i,all_gray_time_str:t,title:e.title}},submitCheck:function(e){var i=this;this.isChecked=!1;var t=this;if(this.cgiData.is_init)if(this.cgiData.category_num)if(this.cgiData.submit_check_ban_info.is_banned)var a=this.cgiData.submit_check_ban_info,s=this.$dialog({title:"提交审核",msg:"暂时不可提交审核|你好，由于你的帐号"+a.reason_description+'，暂时不可提交代码审核，请仔细阅读<a href="https://developers.weixin.qq.com/miniprogram/product/" target="_blank">《微信小程序平台运营规范》</a>和<a href="https://developers.weixin.qq.com/miniprogram/product/reject.html" target="_blank">《微信小程序平台审核常见被拒绝情形》</a>。',type:"info",buttons:1!=a.reason_category?[{text:"申诉",type:"disabled",click:function(){window.open(t.addToken("/wxopen/frame?action=plugin_redirect&nodesc=1&punish_id="+a.ban_app_function_record_id+"&nosidebar=1&t=config/game_change&custom=%26tk%3D1213829769%26pageR%3Dnewcomplain%26mod%3Dintro&title=%e5%b8%90%e5%8f%b7%e7%94%b3%e8%af%89&plugin_uin=1005")),s.remove()}},{text:"取消",type:"default",click:function(){s.remove()}}]:[{text:"取消",click:function(){s.remove()}}]});else if(this.cgiData.need_game_intro)var n=this.$dialog({title:"提交审核",msg:this.cgiData.has_game_intro_checking?"[游戏内容介绍]提交提示|经核查你的小游戏[游戏内容介绍]正在审核中，平台将在你提交后1-7个工作日内完成审核。在审核未完成前，你暂不可继续提交版本。":"[游戏内容介绍]提交提示|为了营造安全健康的网络空间，确保小游戏提供内容符合相关法律法规的要求，请前往提交[游戏内容介绍]后再行提审版本。",buttons:[{text:"前往提交",type:"primary",click:function(){window.open(Object(m.a)("/wxamp/frame/pluginRedirect/pluginRedirect?action=plugin_redirect&plugin_uin=1005&nosidebar=1&custom=%26pageR%3Dfiling%26from%3Dversion&simple=1")),n.remove()}},{text:"取消",click:function(){n.remove()}}]});else if(this.needFestivalTips&&!this.agreeFestivalTips)var o=this.cgiData.is_game,r=this.$dialog({title:"代码审核",msg:o?"2020春节期间审核调整通知|1. 小游戏代码审核将在2020年春节期间1月24日（除夕）至1月30日（初六）暂停审核，期间仅支持加急审核，加急次数每个游戏每季度仅有1次<a target='_blank' href='https://developers.weixin.qq.com/community/minigame/doc/0004cc9ff6c260c81d6925add51401'>（加急审核申请条件说明）</a>，请开发者谨慎选择申请。<br>2. 如开发者希望在春节前完成版本迭代，建议在2020年1月20日24点前提交小游戏代码审核。在此之前提交的小游戏代码审核单，审核团队将在春节停审前审核完毕。<br>3. 1月31日（初七）恢复审核后，将按提审时间顺序逐步审核1月20日24点后提审单。请开发者们合理安排提审时间，避免影响版本迭代。":"2020春节期间审核调整通知|1. 小程序代码审核将在2020年春节期间1月24日（除夕）至1月30日（初六）暂停审核。<br>2. 如开发者希望在春节前完成版本迭代，建议在2020年1月20日24点前提交小程序代码审核。在此之前提交的小程序代码审核单，审核团队将在春节停审前审核完毕。<br>3. 1月31日恢复审核后，将按提审时间顺序逐步审核春节期间提审单。请开发者们合理安排提审时间，避免影响版本迭代。",link:"|",className:"muti_msg_dialog",type:"info",buttons:[{text:"取消",type:"default",click:function(){r.remove()}},{text:"继续提交",type:"primary",click:function(){t.agreeFestivalTips=!0,r.remove(),t.submitCheck(e)}}]});else if(this.cgiData.contain_ugc&&0==this.cgiData.sensitive_tag.length)var l=this.$dialog({title:"代码提醒",msg:"未申报未成年用户不适宜访问的敏感内容|平台为维护未成年绿色、健康的网络环境，现需要申报未成年用户不适宜访问的敏感内容。勾选敏感内容后，小程序将不会被未成年用户访问。如未正确申报，可能根据相关平台规则进行处理。",link:"|",className:"muti_msg_dialog",type:"info",buttons:[{text:"前往申报",type:"primary",click:function(){l.remove(),t.showSensitiveDialog()}}]});else if(this.cgiData.contain_ugc&&!this.hasPromptSensitive&&this.cgiData.sensitive_tag.length>0){this.hasPromptSensitive=!0;var c=this.$dialog({title:"代码提醒",msg:t.getSensitiveTips(t.cgiData.sensitive_tag),link:"|",className:"muti_msg_dialog",type:"info",buttons:[{text:"否",type:"primary",click:function(){c.remove(),t.submitCheck(e)}},{text:"是",type:"default",click:function(){c.remove(),t.showSensitiveDialog()}}]})}else this.agreeFestivalTips=!1,x.post("/wxopen/wacodepage?action=check_domain").then((function(t){var a=function(){i.submitConfirmDialog=!0,i.confirmDataTemp={openid:e.basic_info.open_id,username:e.basic_info.nick_name}};if(0==t.ret)x.post("/wxopen/waexperiencecode?action=check_plugin_version",{openid:e.basic_info.open_id}).then((function(e){if(0==e.ret){var t=[];if((e.plugin_info||[]).forEach((function(e){t.push(e.plugin_nickname)})),t.length)var s=i.$dialog({title:"提交审核",msg:"使用的插件有新版本|这个开发版使用的插件 "+t.join("、")+" 有新版本，建议及时更新插件版本。保持这个开发版中指定的插件版本并提交审核吗？",type:"info",buttons:[{text:"确认",type:"primary",click:function(){s.remove(),a()}},{text:"取消",type:"default",click:function(){s.remove()}}]});else a()}}));else if(96==t.ret)i.$dialog({title:"无法提交审核",msg:"无法提交审核|当前帐号的服务器域名中存在未完成ICP备案的域名，请先完成备案或更换域名后再提交审核",type:"info",buttons:[{text:"前往配置",type:"primary",click:function(){window.open(Object(m.a)("/wxamp/devprofile/get_profile"))}},{text:"查看备案指引",type:"default",click:function(){window.open("http://kf.qq.com/faq/180123AZnmEZ180123zIFR3Q.html")}}]})}));else var _=this.$dialog({title:"无法提交审核",msg:"无法提交审核|请先完成小程序服务类目填写后，方可提交审核，可参照<a href='/wxamp/home/guide?lang=zh_CN&token="+t.$route.query.token+"' target='_blank'>小程序发布流程</a>",type:"info",buttons:[{text:"前往填写",type:"primary",click:function(){window.open("/wxopen/category?action=get&token="+t.$route.query.token+"&lang=zh_CN")}},{text:"取消",click:function(){_.remove()}}]});else var p=this.$dialog({title:"无法提交审核",type:"info",msg:"无法提交审核|请先完成小程序基本资料填写后，方可提交审核，可参照<a href='/wxamp/home/guide?lang=zh_CN&token="+t.$route.query.token+"' target='_blank'>小程序发布流程</a>",buttons:[{text:"前往填写",type:"primary",click:function(){window.open("/wxamp/home/guide?token="+t.$route.query.token+"&lang=zh_CN")}},{text:"取消",click:function(){p.remove()}}]});this.$monitor(73)},showLoginTips:function(e){var i=this,t=this.$dialog({title:"代码提醒",msg:"小程序内用户帐号登录规范调整提醒|为更好地保护用户隐私信息，优化用户体验，小程序需提供合理的用户帐号登录功能，请参照<a href='https://developers.weixin.qq.com/community/operate/doc/000640bb8441b82900e89f48351401' target='_blank'>《小程序内用户帐号登录规范调整和优化建议》</a>进行检查并做出调整。自2019年9月1日起，平台将会在小程序代码审核环节对不符合登录规范的帐号审核进行拦截。",link:"|",className:"muti_msg_dialog",type:"info",buttons:[{text:"取消",type:"default",click:function(){t.remove(),e&&e(!1)}},{text:"继续提交",type:"primary",click:function(){if(t.remove(),i.cgiData.is_category_catch&&!i.cgiData.is_setugc)var a=i.$dialog({title:"提示",msg:"请先完成用户产生内容（UGC）的申明|为提审小程序，你须先在设置-功能设置里完成对用户产生内容的申明",link:"|",className:"muti_msg_dialog",type:"info",buttons:[{text:"取消",type:"default",click:function(){a.remove(),e&&e(!1)}},{text:"去设置",type:"primary",click:function(){console.log("UGC 声明"),a.remove(),location.href=Object(m.a)("/wxamp/basicprofile/ugc"),e&&e(!1)}}]});else e&&e(!0)}}]})},selectOnlineItem:function(e){1==e.value||3==e.value?this.cgiData.data.gray_info?this.$dialog({title:"小程序版本回退",type:"info",msg:"当前版本无法回退|当前帐号存在发布中版本，无法回退。"}):1==e.value?this.getRollBackCgi():this.getRollBackCgiNew():location.href=Object(m.a)("/wxamp/basicprofile/index")},showRollBackDialogNew:function(e){this.showVersionBackDialog=!0,this.versionBackSelectVersion=0,this.versionBackDialogStep=1},showRollBackConfirmDialog:function(e){var i=this,t=this.$dialog({title:"小程序版本回退",msg:"版本回退后不可再次回退|小程序可回退到上一个已发布的线上版本，且不可再次回退，版本回退即时生效。",type:"info",buttons:[{text:"取消",type:"default",click:function(){t.remove()}},{text:"下一步",type:"primary",click:function(){i.showRollBackDialog(e),t.remove()}}]})},handleVersionBackQr:function(e,i){if(i&&i.ticket){var t=i.ticket;this.rollBackCgi(t,this.versionBackData.user_version),this.versionBackScanCode=!1}},handleVersionBackQrNew:function(e,i){if(i&&i.ticket){var t=i.ticket;this.rollBackCgi(t,this.versionBackDataNew.version),this.versionBackScanCodeNew=!1}},confirmRollBackNew:function(){var e=this.versionBackDataNew;this.versionBackScanCodeNew=!0,this.showVersionBackDialog=!1,this.versionBackScanCodeDataNew={auth_type:10,info:JSON.stringify({version:e.userVersion,username:e.devUser,time:e.publishTime,timeStr:f.a.unix(e.publishTime).format("YYYY-MM-DD HH:mm:SS"),describe:e.userDesc})},this.versionBackUp=!1},selectRollbackVersion:function(e){this.versionBackSelectVersion=e.version},confirmBack:function(){var e=this.versionBackData;this.versionBackScanCode=!0,this.versionBackScanCodeData={auth_type:10,info:JSON.stringify({version:e.user_version,username:e.nickname,time:e.publish_timestamp,timeStr:f.a.unix(e.publish_timestamp).format("YYYY-MM-DD HH:mm:SS"),describe:e.user_desc,category:e.page_category_info})},this.versionBackUp=!1},showRollBackDialog:function(e){this.versionBackUp=!0,this.versionBackData=e},rollBackCgi:function(e,i){var t=this;x.post("/wxopen/waexperiencecode?action=roll_back&ticket="+e+"&version="+i+"&app_version="+i).then((function(e){0==e.ret?(t.$tips({type:"success",message:"回退成功"}),t.report(24),window.setTimeout((function(){t.reload()}),1e3),t.$monitor(87)):(t.$tips({type:"error",message:"回退失败"}),t.$monitor(88))}))},getRollBackCgiNew:function(){var e=this;x.get("/wxopen/waexperiencecode?action=get_pre_ver").then((function(i){var t=i.ret;if(0==t){var a=JSON.parse(i.info);if(1==a.status)var s=e.$dialog({title:"小程序版本回退",msg:"当前版本无法回退|当前版本是第一个线上版本，无法回退。如线上版本出现问题，可选择暂停小程序服务。",type:"info",buttons:[{text:"我知道了",type:"primary",click:function(){s.remove()}}]});else if(2==a.status)var n=e.$dialog({title:"小程序版本回退",msg:"当前版本无法回退|当前线上版本已是回退后版本，不可再次回退。",type:"info",buttons:[{text:"我知道了",type:"primary",click:function(){n.remove()}}]});else if(3==a.status)var o=e.$dialog({title:"小程序版本回退",msg:"当前版本无法回退|微信公众平台支持2017年8月3日后发布的小程序回退版本，如线上版本出现问题，可选择暂停小程序服务。",type:"info",buttons:[{text:"我知道了",type:"primary",click:function(){o.remove()}}]});else e.showRollBackDialogNew(a)}else e.$tips({type:"error",message:"系统繁忙，请稍后再试"+t})}))},getRollBackCgi:function(){var e=this;x.get("/wxopen/waexperiencecode?action=get_pre_ver").then((function(i){var t=i.ret;if(0==t){var a=JSON.parse(i.info);if(0==a.status)e.showRollBackConfirmDialog(a);else if(1==a.status)var s=e.$dialog({title:"小程序版本回退",msg:"当前版本无法回退|当前版本是第一个线上版本，无法回退。如线上版本出现问题，可选择暂停小程序服务。",type:"info",buttons:[{text:"我知道了",type:"primary",click:function(){s.remove()}}]});else if(2==a.status)var n=e.$dialog({title:"小程序版本回退",msg:"当前版本无法回退|当前线上版本已是回退后版本，不可再次回退。",type:"info",buttons:[{text:"我知道了",type:"primary",click:function(){n.remove()}}]});else if(3==a.status)var o=e.$dialog({title:"小程序版本回退",msg:"当前版本无法回退|微信公众平台支持2017年8月3日后发布的小程序回退版本，如线上版本出现问题，可选择暂停小程序服务。",type:"info",buttons:[{text:"我知道了",type:"primary",click:function(){o.remove()}}]});else 4==a.status&&e.$dialog({title:"小程序版本回退",msg:"当前版本无法回退|仅支持回退到上一个线上版本。此帐号上一个线上版本已被撤销发布，无法回退。",type:"info"})}else-1==t&&e.$tips({type:"error",message:"系统繁忙，请稍后再试"})}))},selectGrayItem:function(e){var i=this;if(3==e.value)this.showGrayDialog({title:"提升灰度范围",percent:this.cgiData.data.gray_info.gray_percent});else var t=this.$dialog({title:"撤销灰度发布",msg:"撤销发布后，所有用户将使用上一个全量发布的线上版本",type:"info",buttons:[{text:"撤销发布",type:"primary",click:function(){t.remove(),i.init_qrcheck(12,"撤销灰度发布",i.cgiData.data.gray_info,(function(e){x.post("/wxopen/waexperiencecode?action=gray_release_revert&ticket="+e+"&version="+i.cgiData.data.gray_info.basic_info.version).then((function(e){0==e.ret?(i.wxscanCodeDialog=!1,i.report(23),i.$tips({type:"success",message:"撤销发布成功"}),i.reload()):i.$tips({type:"error",message:"操作失败"})}))}))}},{text:"返回",type:"default",click:function(){t.remove()}}]})},selectTestItem:function(e){var i=this.experience_info.basic_info.open_id,t=this;if(5==e.value)var a=this.$dialog({title:"撤回审核",msg:"确认撤回当前审核版本？|"+(this.experience_info.basic_info.is_speedup?"当前审核版本尚未进入审核系统，撤回审核后将恢复本次加急次数，再次提交将重新排队。":"当前审核版本尚未进入审核系统，你可以撤回审核，撤回后再提交将重新排队。"),type:"info",buttons:[{text:"取消",type:"primary",click:function(){a.remove()}},{text:"确认撤回",type:"default",click:function(){var e="/wxopen/wacodepage?action=undo_expr";4==t.cgiData.app_service_type&&(e="/wxopen/wadevelopcode?action=game_undo_submit"),x.post(e).then((function(e){0==e.ret?(a.remove(),t.$tips({type:"success",message:"撤回审核成功"}),t.report(19),setTimeout((function(){t.reload()}),1e3),t.$monitor(83)):87==e.ret?(t.$tips({type:"error",message:"代码已审核通过，无法撤回"}),t.$monitor(84)):(t.$tips({type:"error",message:"系统错误，请稍后再试"}),t.$monitor(84))}))}}]});else this.getDetails(i,1)},getDetails:function(e,i){var t=this;x.get("/wxopen/wacodepage?action=get_details",{openid:e,type:i}).then((function(e){var i=JSON.parse(e.info);i&&i.basic_info&&i.basic_info.describe&&(i.basic_info.describe=Object(m.f)(i.basic_info.describe,void 0)),t.versionTpl=0;i.gray_info&&(t.versionTpl=1),t.versionDeatil=!0,t.versionInfo=i}))},selectDevItem:function(e,i){2==i.value?this.del_exp_version(e):0==i.value||4==i.value?(this.experIndex=e,this.dev2expAndEditPath(e,i.value),this.initDev2Exp(e),0==i.value?this.$monitor(78):this.$monitor(77)):3==i.value?this.cancelExper(e):10==i.value&&this.gotoGameAutoTest()},dev2expAndEditPath:function(e,i){this.experAndEditPath=!0,this.experAndEditPathTitle=4==i?"修改路径":"体验版设置",this.isview=4===i},closeExperD:function(){this.accessExperLock&&this.reload()},handleExperOrEdit:function(){var e=this,i=this.devTable.data[this.experIndex],t=this.devTable.data[this.experIndex].basic_info.open_id,a=this.pathValue,s=a.indexOf("?");s>=0&&a.substring(0,s);if(this.isview)return this.experAndEditPath=!1,this.accessExperVersion=!0,this.accessExperLock=!0,void(this.accessExperTplData={openid:t,isSubmit:!1,nick_name:this.cgiData.nick_name,logo:this.cgiData.logo,path:a});for(var n=this.cgiData.data.develop_info.info_list,o=null,r=0;r<n.length;r++)if(n[r].is_exper){o=n[r];break}if(!o)return x.post("/wxopen/wadevelopcode?action=sumit_exper",{openid:t,version:i.basic_info.version}).then((function(i){0==i.ret&&(e.experAndEditPath=!1,e.report(18),e.accessExperVersion=!0,e.accessExperLock=!0,e.accessExperTplData={openid:t,isSubmit:!0,nick_name:e.cgiData.nick_name,logo:e.cgiData.logo,path:a})})),void(this.isview?this.$monitor(79):this.$monitor(80));x.post("/wxopen/wadevelopcode?action=delete_exper",{openid:o.basic_info.open_id,version:o.basic_info.version}).then((function(s){0==s.ret&&(x.post("/wxopen/wadevelopcode?action=sumit_exper",{openid:t,version:i.basic_info.version}).then((function(i){0==i.ret&&(e.experAndEditPath=!1,e.report(18),e.accessExperVersion=!0,e.accessExperLock=!0,e.accessExperTplData={openid:t,isSubmit:!0,nick_name:e.cgiData.nick_name,logo:e.cgiData.logo,path:a})})),e.isview?e.$monitor(79):e.$monitor(80))}))},initDev2Exp:function(e){var i=this,t=this.devTable.data[e].basic_info.open_id;x.get("/wxopen/wacodepage?action=get_path&openid="+t).then((function(e){if(0==e.ret){var t=e.path_list;!i.cgiData.currentPath&&t&&t.length?(i.setData({currentPath:t[0].path}),i.pathValue=Object(m.f)(t[0].path,!1)):i.pathValue=Object(m.f)(i.cgiData.currentPath,!1)}else i.$tips({type:"error",message:"获取路径失败"})})).finally((function(){}))},showExpVersion:function(e){this.isview=!0,this.accessExperVersion=!0,this.accessExperTplData={openid:e.basic_info.open_id,nick_name:this.cgiData.nick_name,path:Object(m.f)(this.cgiData.currentPath||"",!1)}},cancelExper:function(e){var i=this,t=this.devTable.data[e];x.post("/wxopen/wadevelopcode?action=delete_exper",{openid:t.basic_info.open_id,version:t.basic_info.version}).then((function(e){0==e.ret&&(i.$tips({type:"success",message:"取消体验版本成功"}),i.reload())})),this.$monitor(75)},del_exp_version:function(e){var i=this.devTable.data[e];this.waitingDelDev=i,i.is_exper?this.delExpVersionDialog=!0:this._del_exp_version(),this.$monitor(76)},_del_exp_version:function(){var e=this;this.init_qrcheck(k,"删除当前开发版",this.waitingDelDev,(function(i){x.post("/wxopen/wadevelopcode?action=delete",{openid:e.waitingDelDev.basic_info.open_id,ticket:i,version:e.waitingDelDev.basic_info.version}).then((function(i){0==i.ret&&(e.wxscanCodeDialog=!1,e.$tips({type:"success",message:"删除开发版本成功"}),e.report(16),e.reload())}))}))},handleQr:function(e,i){if(i&&i.ticket){var t=i.ticket;"function"==typeof this.onSuccess&&this.onSuccess(t)}},init_qrcheck:function(e,i,t,a,s,n){this.wxscanCodeClassName=n||"qrcheck_dialog_simple",this.wxscanCodeDialog=!0,this.wxscanCodeDialogTitle=i||"微信验证",this.onSuccess=a,this.wxscanCodeDialogData={auth_type:e,info:JSON.stringify({version:t.basic_info.version,username:t.basic_info.nick_name,time:t.basic_info.time,timestr:f.a.unix(t.basic_info.time).format("YYYY-MM-DD HH:mm:SS"),describe:t.basic_info.describe,weapp_alias:this.cgiData.nick_name,percentage:t.percentage,all_gray_time_str:t.all_gray_time_str,first_gray_time_str:t.first_gray_time_str})}},convert_code_status:function(e,i){return 2===e&&i?"加急审核中":{0:"开发版本",1:"体验中",2:"审核中",3:"审核通过待发布",4:"审核不通过",6:"线上版本",7:"已删除"}[e]||e},gotoGameAutoTest:function(){window.open(this.addToken("/wxamp/frame/pluginRedirect/pluginRedirect?action=plugin_redirect&plugin_uin=1009"))},showSensitiveDialog:function(){this.dialogName="sensitiveTagSetting";var e=[];this.cgiData.sensitive_tag.forEach((function(i){e.push(""+i)})),this.dataContent=e},getSensitiveTips:function(e){var i=["没有未成年不适宜访问敏感内容","惊悚、打斗刺激","成人情感、两性关系","博彩","其他未成年用户不适宜访问的敏感内容"],t=[];if(e.forEach((function(e){t.push(e)})),t.sort(),e.indexOf(0)>-1)return"历史申报不包含任何未成年用户不适宜访问的敏感内容，可以被未成年用户访问。|如未正确申报，可能根据相关平台规则进行处理。请确认是否需要进行修改。";if(1==e.length)return"历史申报的未成年用户不适宜访问的敏感内容为："+i[e[0]]+"，不可以被未成年用户访问。|如未正确申报，可能根据相关平台规则进行处理。请确认是否需要进行修改。";if(e.length>1&&e.length<=5){var a="";return t.forEach((function(e){a+=i[e]+"；"})),"历史申报的未成年用户不适宜访问的敏感内容为："+(a=a.substring(0,a.length-1))+"，不可以被未成年用户访问。|如未正确申报，可能根据相关平台规则进行处理。请确认是否需要进行修改。"}return"未申报未成年用户不适宜访问的敏感内容|如未正确申报，可能根据相关平台规则进行处理。请确认是否需要进行修改。"},tagInputHandler:function(e){this.showTagTips=!1},tagBlurHandler:function(e){e||(this.showTagTips=!0)},tagRemoveHandler:function(){0==this.wxNameList.length&&(this.showTagTips=!0)},beforeTagAdd:function(e){return b(this,void 0,void 0,s.a.mark((function i(){var t,a,n,o,r;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(""===e){i.next=10;break}if(t=(t=e.trim().split(/ |,/)).filter((function(e){return e})),a=t.join(","),!(t.length>0&&t[0])){i.next=9;break}return i.next=7,x.get("/home/isUsernameExist",{usernameList:a});case 7:if(0==(n=i.sent).ret){for(this.wxNameList=this.arrDistinct(this.wxNameList,n.validList),o=0;o<this.grayedWxNameList.length;o++)for(r=0;r<this.wxNameList.length;r++)this.grayedWxNameList[o]==this.wxNameList[r]&&this.wxNameList.splice(r,1);this.wxNameList.splice(this.tagMaxSize),this.groupMemberInGrayList&&(this.cgiData.biz_expr_total+this.cgiData.biz_normal_total+this.wxNameList.length>this.constMaxListSize?(this.wxNameList.splice(this.constMaxListSize-this.cgiData.biz_expr_total-this.cgiData.biz_normal_total),this.showReachMaxListTips=!0):this.showReachMaxListTips=!1),this.wxNameErrorList=this.arrDistinct(this.wxNameErrorList,n.invalidList)}else n.ret;case 9:return i.abrupt("return",new Promise((function(e,i){i({inputValue:""})})));case 10:case"end":return i.stop()}}),i,this)})))},getErrorWxName:function(e){if(e)return e.join(", ")},arrDistinct:function(e,i){var t=e.concat(i),a=[],s={},n=!0,o=!1,r=void 0;try{for(var l,c=t[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var _=l.value;s[_]||(a.push(_),s[_]=1)}}catch(e){o=!0,r=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw r}}return a}})}),B=(t(1182),t(7)),E=Object(B.a)(T,(function(){for(var e=arguments.length,i=Array(e);e--;)i[e]=arguments[e];var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"main_hd with_extra"},[s("h2",[t._v("版本管理")]),s("div",{staticClass:"main_hd_extra"},[s("mp-popover",{attrs:{trigger:"hover",position:"up-right",width:400}},[s("i",{staticClass:"icon_msg_mini ask",attrs:{slot:"target"},slot:"target"}),s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[s("label",[t._v("开发版本")]),s("span",[t._v("\n              使用开发者工具，可将代码上传到开发版本中。 开发版本只保留每人最新的一份上传的代码。\n              "),s("br"),t._v("点击提交审核，可将代码提交审核。\n              "),s("br"),t._v("开发版本可删除，不影响线上版本和审核中版本的代码。\n            ")])]),s("p",[s("label",[t._v("审核中版本")]),s("span",[t._v("只能有一份代码处于审核中。有审核结果后可以发布到线上，也可直接重新提交审核，覆盖原审核版本。")])]),s("p",[s("label",[t._v("线上版本")]),s("span",[t._v("线上所有用户使用的代码版本，该版本代码在新版本代码发布后被覆盖更新。")])])])])],1)]),t.loading?s("p",{staticClass:"empty_tips empty_tips_loading"},[s("i",{staticClass:"icon_loading_small white"})]):s("div",{staticClass:"main_bd"},[1==t.userInfo.codeCategoryHasAuthorized&&1==t.userInfo.hasBindedByComponent?s("div",{staticClass:"mod_default_box"},[s("div",{staticClass:"page_msg small default ajust mod_global_msg"},[s("div",{staticClass:"inner"},[s("div",{staticClass:"msg_content"},[s("h4",[t._v("开发管理已禁用")]),s("p",[t._v("开发管理由于以下两个原因被禁用:")]),s("p",[t._v("\n              1.开发权限已托管给第三方，不能在此进行开发管理。\n              "),s("a",{attrs:{href:"/wxamp/basicprofile/thirdauth?token="+t.$route.query.token+"&lang=zh_CN"}},[t._v("查看已绑定的第三方平台")])]),s("p",[t._v("\n              2.小程序已绑定为开发小程序，不能在此进行开发管理。\n               "),s("a",{attrs:{href:t.addToken("/wxamp/basicprofile/index")}},[t._v("前往查看绑定信息")])])])])])]):1==t.userInfo.codeCategoryHasAuthorized?s("div",{staticClass:"mod_default_box"},[s("div",{staticClass:"page_msg small default ajust mod_global_msg"},[s("div",{staticClass:"inner"},[s("div",{staticClass:"msg_content"},[s("h4",[t._v("开发管理已禁用")]),s("p",[t._v("\n              开发权限已托管给第三方，不能在此进行开发管理。\n              "),s("a",{attrs:{href:"/wxopen/componentunauthorize?action=component_list&token="+t.$route.query.token+"&lang=zh_CN"}},[t._v("查看已绑定的第三方平台")])])])])])]):1==t.userInfo.hasBindedByComponent?s("div",{staticClass:"mod_default_box"},[s("div",{staticClass:"page_msg small default ajust mod_global_msg"},[s("div",{staticClass:"inner"},[s("div",{staticClass:"msg_content"},[s("h4",[t._v("开发管理已禁用")]),s("p",[t._v("\n              小程序已绑定为开发小程序，不能在此进行开发管理。\n               "),s("a",{attrs:{href:t.addToken("/wxamp/basicprofile/index")}},[t._v("前往查看绑定信息")])])])])])]):s("span",[1==t.cgiData.forbidden_flag&&2==t.cgiData.self_open_flag?s("div",{staticClass:"page_msg with_closed mini page_global_msg js_msg_box"},[s("div",{staticClass:"inner"},[t._m(0),s("div",{staticClass:"msg_content"},[s("p",[t._v("你已暂停小程序的服务，用户不可正常访问线上版本小程序。暂停服务不影响小程序代码提交审核及发布。"),s("a",{attrs:{href:t.addToken("/wxamp/basicprofile/index")}},[t._v("修改设置")])])])])]):t._e(),2==t.cgiData.forbidden_flag?s("div",{staticClass:"page_msg with_closed mini page_global_msg"},[s("div",{staticClass:"inner"},[t._m(1),s("div",{staticClass:"msg_content"},[s("p",[t._v("小程序因违规被强制暂停服务，用户不可正常访问小程序，请完成整改后提交申诉。暂停服务不影响小程序代码提交及发布。"),s("a",{attrs:{href:t.addToken("/wxamp/basicprofile/index")+"#js_forbid_reason"}},[t._v("查看详情")])])])])]):t._e(),s("div",{staticClass:"code_mod mod_default_box code_version_online"},[t._m(2),s("div",{staticClass:"mod_default_bd default_box online_version"},[s("div",{staticClass:"default_box_inner"},[t.onlineTable.online_info?s("div",{staticClass:"code_version_log"},[s("div",{staticClass:"code_version_log_hd"},[s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("版本号")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t.onlineTable.online_info.basic_info.version))])])]),s("div",{staticClass:"code_version_log_ft"},[s("div",{staticClass:"user_status"},[s("mp-button",{attrs:{type:"primary"},on:{click:function(e){return t.getDetails(t.onlineTable.online_info.basic_info.open_id,2)}}},[t._v("详情")]),s("mp-operation-group",{attrs:{type:"custom",trigger:"click",position:"top","button-type":"primary",options:t.onlineOptions[0]},on:{select:t.selectOnlineItem},model:{value:t.onlineShowMenu[0],callback:function(e){t.$set(t.onlineShowMenu,0,e)},expression:"onlineShowMenu[0]"}},[s("template",{slot:"target"},[s("mp-button",{staticClass:"arrowBtn",attrs:{type:"primary"}},[s("i",{staticClass:"icon_arrow_down_white"})])],1)],2)],1)]),s("div",{staticClass:"code_version_log_bd"},[s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("发布者")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t.onlineTable.online_info.basic_info.nick_name))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("发布时间")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat")(t.onlineTable.online_info.basic_info.time)))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("项目备注")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("filterSpace")(t.onlineTable.online_info.basic_info.describe)))])])])]):s("div",{staticClass:"empty_box"},[s("p",{staticClass:"empty_tips"},[t._v("尚未提交线上版本")])]),t.onlineTable.gray_info?s("div",{staticClass:"code_version_log"},[s("div",{staticClass:"code_version_log_hd"},[s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("版本号")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t.onlineTable.gray_info.basic_info.version))]),s("p",[s("span",{staticClass:"status_tag info icon_after clickable"},[t._v(t._s(t.onlineTable.gray_info.gray_percent)+"%发布中")])])])]),s("div",{staticClass:"code_version_log_ft"},[s("div",{staticClass:"user_status"},[s("mp-button",{attrs:{type:"primary"},on:{click:function(e){return t.getDetails(t.onlineTable.gray_info.basic_info.open_id,3)}}},[t._v("详情")]),s("mp-operation-group",{attrs:{type:"custom",trigger:"click",position:"top","button-type":"primary",options:t.onlineOptions[1]},on:{select:t.selectGrayItem},model:{value:t.onlineShowMenu[1],callback:function(e){t.$set(t.onlineShowMenu,1,e)},expression:"onlineShowMenu[1]"}},[s("template",{slot:"target"},[s("mp-button",{staticClass:"arrowBtn",attrs:{type:"primary"}},[s("i",{staticClass:"icon_arrow_down_white"})])],1)],2)],1)]),s("div",{staticClass:"code_version_log_bd"},[s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("发布者")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t.onlineTable.gray_info.basic_info.nick_name))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("发布时间")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat")(t.onlineTable.gray_info.basic_info.time)))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("项目备注")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("filterSpace")(t.onlineTable.gray_info.basic_info.describe)))])])])]):t._e()])])]),s("div",{staticClass:"code_mod mod_default_box code_version_test"},[t._m(3),s("div",{staticClass:"mod_default_bd default_box test_version"},[s("div",{staticClass:"default_box_inner"},[!t.experience_info||2!=t.experience_info.basic_info.status&&3!=t.experience_info.basic_info.status&&4!=t.experience_info.basic_info.status?s("div",{staticClass:"empty_box"},[s("p",{staticClass:"empty_tips"},[t._v("你暂无提交审核的版本或者版本已发布上线")])]):s("div",{staticClass:"code_version_log"},[s("div",{staticClass:"code_version_log_hd"},[s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("版本号")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t.experience_info.basic_info.version))]),s("p",[s("span",{staticClass:"status_tag succeed",staticStyle:{color:"#FF9129",border:"1px solid #FF9129"}},[t._v(t._s(t.convert_code_status(t.experience_info.basic_info.status,t.experience_info.basic_info.is_speedup)))])])])]),s("div",{staticClass:"code_version_log_ft"},[s("div",{staticClass:"user_status"},[s("mp-popover",{attrs:{content:"当前有灰度发布中的版本，可在全量发布／撤销发布后再发布新版本。",position:"up-right",disabled:!t.cgiData.data.gray_info,trigger:"hover"}},[3==t.experience_info.basic_info.status?s("mp-button",{attrs:{slot:"target",type:"primary",disabled:!!t.cgiData.data.gray_info},on:{click:t.submitPublish},slot:"target"},[t._v("提交发布")]):t._e()],1),2==t.experience_info.basic_info.status?s("mp-button",{attrs:{type:"primary"},on:{click:function(e){return t.getDetails(t.experience_info.basic_info.open_id,1)}}},[t._v("详情")]):t._e(),4==t.experience_info.basic_info.status?s("mp-button",{attrs:{type:"primary"},on:{click:t.delTestVersion}},[t._v("删除")]):t._e(),s("mp-operation-group",{attrs:{type:"custom",trigger:"click",position:"top","button-type":"primary",options:t.testOptions},on:{select:t.selectTestItem},model:{value:t.testShowMenu,callback:function(e){t.testShowMenu=e},expression:"testShowMenu"}},[s("template",{slot:"target"},[s("mp-button",{staticClass:"arrowBtn",attrs:{type:"primary"}},[s("i",{staticClass:"icon_arrow_down_white"})])],1)],2)],1)]),s("div",{staticClass:"code_version_log_bd"},[s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("开发者")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t.experience_info.basic_info.nick_name))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("提交审核时间")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat")(t.experience_info.basic_info.time)))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("项目备注")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("filterSpace")(t.experience_info.basic_info.describe)))])])])])])])]),s("div",{staticClass:"code_mod mod_default_box code_version_dev"},[t._m(4),s("div",{staticClass:"mod_default_bd"},[s("div",{staticClass:"code_version_logs"},[t._l(t.devTable.data,(function(e,i){return s("div",{key:"develop_info"+i,staticClass:"code_version_log"},[s("div",{staticClass:"code_version_log_hd"},[s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("版本号")]),s("p",{staticClass:"simple_preview_value"},[t._v("\n                    "+t._s(e.basic_info.version?e.basic_info.version:"-")+"\n                    "),s("mp-popover",{attrs:{trigger:"hover",content:"线上版小程序使用的插件有更新，这个版本是自动生成使用新版插件的小程序版本"}},[e.basic_info.is_plugin_auto_update?s("i",{staticClass:"icon_msg_mini ask",attrs:{slot:"target"},slot:"target"}):t._e()])],1),e.basic_info.is_plugin_auto_update?s("p",[s("span",{staticClass:"status_tag succeed"},[t._v("免审核快速发布")])]):t._e(),e.is_exper?s("p",{staticClass:"js_show_exp_version"},[s("span",{class:["status_tag info icon_after clickable",e.basic_info.is_plugin_auto_update?"js_plugin_fast_update_exp":""],on:{click:function(i){return t.showExpVersion(e)}}},[t._v("\n                      体验版\n                      "),s("i",{staticClass:"icon_code_qrcode"},[t._v("扫描访问体验版")])])]):t._e()])]),s("div",{staticClass:"code_version_log_ft"},[0==e.basic_info.status?[!t.devTable.gray_info&&e.basic_info.is_plugin_auto_update?s("mp-button",{attrs:{type:"primary"},on:{click:function(a){return t.quickPublish(i,e)}}},[t._v("快速发布")]):t._e(),e.basic_info.is_plugin_auto_update?t._e():s("mp-button",{attrs:{type:"primary",disabled:t.devTable.experience_info&&2==t.devTable.experience_info.basic_info.status||!t.devTable.can_submit_check},on:{click:function(i){return t.submitCheck(e)}}},[t._v("提交审核")])]:t._e(),6===e.basic_info.status&&0!==e.basic_info.status?s("mp-button",{attrs:{type:"primary",disabled:""}},[t._v("已发布")]):t._e(),s("mp-operation-group",{attrs:{type:"custom",trigger:"click",position:"top","button-type":"primary",options:t.devOptions[i]},on:{select:function(e){for(var a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return t.selectDevItem.apply(void 0,[i].concat(s))}},model:{value:t.devShowMenu[i],callback:function(e){t.$set(t.devShowMenu,i,e)},expression:"devShowMenu[i]"}},[s("template",{slot:"target"},[s("mp-button",{staticClass:"arrowBtn",attrs:{type:"primary"}},[s("i",{staticClass:"icon_arrow_down_white"})])],1)],2)],2),s("div",{staticClass:"code_version_log_bd"},[e.basic_info.is_plugin_auto_update?s("span",{key:"updaten"},[s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("基础版本号")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(e.basic_info.version))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("旧插件版本")]),s("div",{staticClass:"simple_preview_value"},[s("div",{staticClass:"plugin-item__row"},[s("img",{staticClass:"plugin-avatar",attrs:{src:e.basic_info.plugin_auto_update_info.headimg_url,alt:""}}),s("strong",{staticClass:"plugin-name"},[t._v(t._s(e.basic_info.plugin_auto_update_info.nickname))]),s("span",{staticClass:"plugin-version"},[t._v(t._s(e.basic_info.plugin_auto_update_info.old_custom_version))])])])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("更新插件版本")]),s("div",{staticClass:"simple_preview_value"},[s("div",{staticClass:"plugin-item__row"},[s("img",{staticClass:"plugin-avatar",attrs:{src:e.basic_info.plugin_auto_update_info.headimg_url,alt:""}}),s("strong",{staticClass:"plugin-name"},[t._v(t._s(e.basic_info.plugin_auto_update_info.nickname))]),s("span",{staticClass:"plugin-version"},[t._v(t._s(e.basic_info.plugin_auto_update_info.new_custom_version))])]),s("mp-popover",{attrs:{trigger:"hover"}},[s("div",{attrs:{slot:"content"},slot:"content"},[s("p",[s("label",[t._v("插件更新时间")]),s("span",[t._v(t._s(t._f("unixFormat")(e.basic_info.plugin_auto_update_info.update_time)))])]),s("p",[s("label",[t._v("插件更新日志")]),s("span",[t._v(t._s(e.basic_info.plugin_auto_update_info.update_log))])])]),s("i",{staticClass:"icon_msg_mini ask",attrs:{slot:"target"},slot:"target"})])],1)])]):s("span",{key:"update"},[s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("开发者")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(e.basic_info.nick_name))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("提交时间")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat")(e.basic_info.time)))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("项目备注")]),s("p",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("filterSpace")(e.basic_info.describe)))])])])])])})),t.devTable.data.length?t._e():s("div",{key:"idev_user_count",staticClass:"empty_tips"},[t._v("\n              你尚未上传任何开发版本，可前往开发者工具上传代码。\n              "),s("a",{attrs:{target:"_blank",href:"https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html"}},[t._v("查看介绍")])])],2)])])])]),s("mp-dialog",{staticClass:"weui-desktop-dialog_self",attrs:{title:"删除当前开发版","wrap-class":"self-weui-modal",scrollable:!0},model:{value:t.delExpVersionDialog,callback:function(e){t.delExpVersionDialog=e},expression:"delExpVersionDialog"}},[s("div",{staticClass:"dialog_bd"},[s("div",{staticClass:"page_msg large default single_line"},[s("div",{staticClass:"inner"},[s("span",{staticClass:"msg_icon_wrp"},[s("i",{staticClass:"icon_msg info"})]),s("div",{staticClass:"msg_content"},[s("h4",[t._v("删除当前开发版？")]),s("p",{staticClass:"msg_desc_context"},[t._v("当前版本已被选定为体验版，删除后管理员和体验者将无法使用体验版")])])])])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("mp-button",{staticClass:"mr",attrs:{type:"primary"},on:{click:function(e){t.delExpVersionDialog=!1,t._del_exp_version()}}},[t._v("删除")]),s("mp-button",{staticClass:"mr",on:{click:function(e){t.delExpVersionDialog=!1,t.waitingDelDev=null}}},[t._v("取消")])],1)]),s("mp-dialog",{class:t.wxscanCodeClassName,attrs:{width:726,title:t.wxscanCodeDialogTitle,"wrap-class":"self-weui-modal",scrollable:!0},model:{value:t.wxscanCodeDialog,callback:function(e){t.wxscanCodeDialog=e},expression:"wxscanCodeDialog"}},[s("div",{staticClass:"dialog_bd"},[t.wxscanCodeDialog?s("QrCheck",{attrs:{data:t.wxscanCodeDialogData,cgiid:"8",width:"200",height:"200"},on:{donecb:t.handleQr}},[s("div",{attrs:{slot:"wait"},slot:"wait"},[t._v("请使用微信扫描二维码进行验证")])]):t._e()],1)]),s("mp-dialog",{staticClass:"code_submit_dialog dialog_with_tool_context dialog_fix_bd_height",attrs:{width:687,title:"提交审核的相关须知","wrap-class":"self-weui-modal",scrollable:!0},model:{value:t.submitConfirmDialog,callback:function(e){t.submitConfirmDialog=e},expression:"submitConfirmDialog"}},[s("div",{staticClass:"dialog_bd"},[s("div",{staticClass:"page_msg large default"},[s("div",{staticClass:"inner"},[s("span",{staticClass:"msg_icon_wrp"},[s("i",{staticClass:"icon_msg info"})]),s("div",{staticClass:"msg_content"},[s("h4",[t._v("确认提交审核？")]),s("div",{staticClass:"msg_desc_context"},[s("p",[t._v("提交给微信团队审核前，请确保:")]),s("ul",{staticClass:"simple_tips_list"},[s("li",{staticClass:"simple_tips_item"},[s("div",{staticClass:"simple_tips_content"},[t._v("\n                    提交的小程序功能完整，可正常打开和运行，而不是测试版或 Demo\n                    "),s("br"),t._v("小程序的调试和预览可在开发者工具进行。\n                    多次提交测试内容或 Demo，将受到相应处罚。\n                  ")])]),t.cgiData.is_game?s("li",{staticClass:"simple_tips_item"},[s("div",{staticClass:"simple_tips_content"},[t._v("审核不通过将会影响主体信用分。")])]):t._e(),s("li",{staticClass:"simple_tips_item"},[s("div",{staticClass:"simple_tips_content"},[t._v("\n                    已仔细阅读\n                    "),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/product/index.html",target:"_blank"}},[t._v("《微信小程序平台运营规范》")]),t._v("和\n                    "),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/product/reject.html",target:"_blank"}},[t._v("《微信小程序平台审核常见被拒绝情形》")])])])]),s("mp-checkbox",{model:{value:t.isChecked,callback:function(e){t.isChecked=e},expression:"isChecked"}},[t._v("已阅读并了解平台审核规则")])],1)])])])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("mp-button",{staticClass:"mr",attrs:{type:"primary"},on:{click:t.nextSubmit}},[t._v("下一步")]),s("mp-button",{staticClass:"mr",on:{click:function(e){t.submitConfirmDialog=!1}}},[t._v("取消")])],1)]),s("mp-dialog",{class:t.isview?"exp_version_dialog exp_version_primary_dialog":"exp_version_dialog",attrs:{width:732,title:t.isview?"扫码访问体验版":"选为体验版","wrap-class":"self-weui-modal",scrollable:!0},on:{close:t.closeExperD},model:{value:t.accessExperVersion,callback:function(e){t.accessExperVersion=e},expression:"accessExperVersion"}},[t.accessExperVersion?s("div",{staticClass:"dialog_bd"},[s("div",{staticClass:"exp_version_box"},[s("div",{staticClass:"exp_version_result"},[t.accessExperTplData.isSubmit?s("div",{staticClass:"page_msg small default"},[s("div",{staticClass:"inner"},[s("span",{staticClass:"msg_icon_wrp"},[s("i",{staticClass:"icon_msg success"})]),s("div",{staticClass:"msg_content"},[s("h4",[t._v("体验版已生效")]),s("p",[t._v("\n                  管理员体验者可扫描下方二维码即可体验体验版\n                  "),s("br"),t._v("(下载保存该二维码)\n                ")])])])]):s("p",{staticClass:"code_qrcode_download_tips"},[t._v("\n            管理员体验者可扫描下方二维码即可体验体验版\n            "),s("br"),t._v("(下载保存该二维码)\n          ")]),t.accessExperTplData.path?s("div",{staticClass:"frm_control_group url_preview_area"},[s("label",{staticClass:"frm_label",attrs:{for:""}},[t._v("路径")]),s("div",{staticClass:"frm_controls frm_vertical_pt"},[s("div",{staticClass:"url_preview",attrs:{title:"{path}"}},[t._v(t._s(t.accessExperTplData.path))])])]):t._e(),t.accessExperTplData.isSubmit?s("div",{staticClass:"code_qrcode_download_box"},[s("div",{staticClass:"code_qrcode"},[s("div",{staticClass:"vm_item vm_item_default pic_code_qrcode_wrp"},[s("img",{staticClass:"pic_code_qrcode",attrs:{src:t.qrcode_url(t.accessExperTplData.openid,t.accessExperTplData.path),alt:""}}),s("span",{staticClass:"code_qrcode_program_icon"})]),s("div",{staticClass:"vm_item vm_item_primary code_qrcode_text"},[s("strong",{staticClass:"code_qrcode_title"},[t._v(t._s(t.accessExperTplData.nick_name)+"体验版")])])])]):s("div",{staticClass:"code_qrcode_download_box"},[s("div",{staticClass:"code_qrcode"},[s("div",{staticClass:"pic_code_qrcode_wrp"},[s("img",{staticClass:"pic_code_qrcode",attrs:{src:t.qrcode_url(t.accessExperTplData.openid,t.accessExperTplData.path),alt:""}}),s("span",{staticClass:"code_qrcode_program_icon"})]),s("strong",{staticClass:"code_qrcode_title"},[t._v(t._s(t.accessExperTplData.nick_name)+"体验版")])])])])])]):t._e(),s("div",{attrs:{slot:"footer"},slot:"footer"},[t.showGameTestButton?s("mp-button",{staticStyle:{"margin-right":"10px"},attrs:{type:"default"},on:{click:t.gotoGameAutoTest}},[t._v("云测试服务")]):t._e(),s("mp-button",{attrs:{type:"primary"},on:{click:function(e){return t.downloadCode(t.accessExperTplData.openid)}}},[t._v("下载二维码")])],1)]),s("mp-dialog",{staticClass:"server_url_dialog",attrs:{width:650,title:t.experAndEditPathTitle,"wrap-class":"self-weui-modal",scrollable:!0},model:{value:t.experAndEditPath,callback:function(e){t.experAndEditPath=e},expression:"experAndEditPath"}},[s("div",{staticClass:"dialog_bd"},[s("div",{staticClass:"server_url_content"},[s("p",{staticClass:"tips_global"},[t._v("配置页面路径(可带参数)，可打开体验版特定页面并传入参数，方便体验者体验小程序功能。如：page/index/index 或 page/index/index?id=123")]),s("div",{staticClass:"server_url_rich_area"},[s("div",{staticClass:"frm_control_group"},[s("label",{staticClass:"frm_label"},[t._v("页面路径(选填)")]),s("div",{staticClass:"frm_controls"},[s("span",{staticClass:"js_path_list"}),s("mp-input",{attrs:{placeholder:"请输入路径"},model:{value:t.pathValue,callback:function(e){t.pathValue=e},expression:"pathValue"}})],1)])]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.has_exper&&!t.isview,expression:"has_exper && !isview"}],staticClass:"extra_tips"},[t._v("当前已有其他版本选为体验版，切换当前版本为新的体验版")])])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("mp-button",{attrs:{type:"primary"},on:{click:t.handleExperOrEdit}},[t._v(t._s(t.has_exper&&!t.isview?"切换体验版":"提交"))])],1)]),s("mp-dialog",{attrs:{width:720,title:t.grayPublishTplData.title,"wrap-class":"self-weui-modal",scrollable:!0},model:{value:t.grayPublishDialog,callback:function(e){t.grayPublishDialog=e},expression:"grayPublishDialog"}},[s("div",{staticClass:"dialog_bd",class:{gray_dialog:1==t.publishMode}},[s("div",{staticClass:"gray_release_form"},[0==t.grayPublishTplData.old_percent?s("div",{staticClass:"gray_release_edit"},[s("div",{staticClass:"frm_control_group"},[s("label",{staticClass:"frm_label",attrs:{for:""}},[t._v("发布模式")]),s("div",{staticClass:"frm_controls"},[s("mp-dropdown",{attrs:{options:t.publishModeOptions},on:{change:t.publishModeChange},model:{value:t.publishMode,callback:function(e){t.publishMode=e},expression:"publishMode"}}),1==t.publishMode?s("p",{staticClass:"frm_tips"},[t._v("按照发布比例灰度用户，15天发布完毕")]):t._e()],1)]),t.publishMode?s("div",{staticClass:"frm_control_group js_gray_scale_container"},[s("label",{staticClass:"frm_label",attrs:{for:""}},[t._v("发布比例")]),s("div",{staticClass:"frm_controls"},[s("mp-slider",{staticClass:"slider_c",on:{change:t.sliderChange},model:{value:t.grayValue,callback:function(e){t.grayValue=e},expression:"grayValue"}}),s("span",{staticStyle:{"vertical-align":"middle","margin-left":"10px"}},[t._v(t._s(t.grayValue)+"%")]),s("p",{staticClass:"frm_msg fail"},[t._v(t._s(t.publishErr))]),s("p",{staticClass:"frm_tips"},[t._v("将使用此版本的用户比例")])],1)]):t._e()]):s("div",{staticClass:"gray_release_preview"},[s("div",{staticClass:"frm_control_group"},[s("label",{staticClass:"frm_label",attrs:{for:""}},[t._v("当前灰度范围")]),s("div",{staticClass:"frm_controls frm_vertical_pt"},[t._v(t._s(t.grayPublishTplData.old_percent)+"%")])]),s("div",{staticClass:"frm_control_group"},[s("label",{staticClass:"frm_label",attrs:{for:""}},[t._v("预计全量发布时间")]),s("div",{staticClass:"frm_controls frm_vertical_pt"},[t._v(t._s(t.grayPublishTplData.all_gray_time_str))])]),s("div",{staticClass:"frm_control_group js_gray_scale_container"},[s("label",{staticClass:"frm_label",attrs:{for:""}},[t._v("增加灰度范围")]),s("div",{staticClass:"frm_controls"},[s("mp-slider",{staticClass:"slider_c",on:{change:t.sliderChange},model:{value:t.grayValue,callback:function(e){t.grayValue=e},expression:"grayValue"}}),s("span",{staticStyle:{"vertical-align":"middle","margin-left":"10px"}},[t._v(t._s(t.grayValue)+"%")]),s("p",{staticClass:"frm_msg fail"},[t._v(t._s(t.publishErr))]),s("p",{staticClass:"frm_tips"},[t._v("\n                将使用此版本的用户比例，\n                "),s("a",{attrs:{href:"http://kf.qq.com/faq/170829reQraq170829qqIFFb.html",target:"_blank"}},[t._v("了解更多")])])],1)])]),1==t.publishMode?s("div",{staticClass:"frm_control_group"},[s("div",{staticClass:"frm_label label_with-ask",attrs:{slot:"label"},slot:"label"},[s("span",[t._v("灰度白名单")]),s("mp-popover",{attrs:{trigger:"hover",content:"在灰度发布中，优先灰度的名单，可直接勾选项目成员和体验成员进行灰度，也可点击「添加灰度成员」添加灰度白名单，新增的灰度白名单总数不超过100个"}},[s("mp-icon",{attrs:{slot:"target",icon:"tips"},slot:"target"})],1)],1),s("div",{staticClass:"frm_controls"},[s("div",{staticClass:"gray-release-whitelist-checkbox__wrp"},[s("mp-checkbox",{attrs:{disabled:t.groupMemberInGrayListFromSvr||t.cgiData.biz_expr_total+t.cgiData.biz_normal_total>=t.constMaxListSize},model:{value:t.groupMemberInGrayList,callback:function(e){t.groupMemberInGrayList=e},expression:"groupMemberInGrayList"}},[t._v("项目成员与体验成员")]),t.cgiData.biz_expr_total+t.cgiData.biz_normal_total>=t.constMaxListSize?s("p",{staticClass:"frm_tips"},[t._v("\n                项目成员与体验成员过多，不可添加至灰度白名单\n              ")]):t._e()],1),t.showList?t._e():s("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.showList=!0}}},[t._v("添加灰度成员")]),t.showList?s("div",{staticClass:"gray-release-whitelist-tags__wrp"},[t.grayedWxNameList.length>0?s("mp-tag",{staticStyle:{"padding-left":"5px","margin-top":"10px"},attrs:{type:"key",tags:t.grayedWxNameList}}):t._e(),s("mp-tag",{attrs:{type:"form","max-size":t.tagMaxSize,autofocus:"","before-add":t.beforeTagAdd},on:{input:t.tagInputHandler,remove:t.tagRemoveHandler,blur:t.tagBlurHandler},model:{value:t.wxNameList,callback:function(e){t.wxNameList=e},expression:"wxNameList"}}),0==t.wxNameList.length&&t.showTagTips&&0==t.grayedWxNameList.length?s("div",{staticClass:"mptag_tips"},[t._v("输入需要灰度用户的微信号，多个微信号用空格隔开，敲击回车键完成输入。")]):t._e(),s("div",{staticClass:"counter__wrp"},[s("span",{staticClass:"counter__desc",class:{added_num:t.grayedWxNameList.length+t.wxNameList.length==t.constMaxTagSize}},[t._v("添加"+t._s(t.grayedWxNameList.length+t.wxNameList.length)+"/"+t._s(t.constMaxTagSize)+"人")])])],1):t._e(),t.showList&&t.wxNameErrorList.length>0?s("p",{staticClass:"weui-desktop-form__msg weui-desktop-form__msg_warn"},[t._v("以下微信号添加失败，请确认微信号是否正确："+t._s(t.getErrorWxName(t.wxNameErrorList)))]):t._e(),t.showReachMaxListTips?s("p",{staticClass:"weui-desktop-form__msg weui-desktop-form__msg_warn"},[t._v("\n                项目成员、体验成员及灰度白名单成员过多，不可再添加至灰度白名单\n            ")]):t._e()])]):t._e()])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("mp-button",{staticClass:"mr",attrs:{type:"primary",disabled:!!t.publishErr||1==t.publishMode&&0==t.grayValue},on:{click:t.graySubmit}},[t._v("提交")]),s("mp-button",{staticClass:"mr",on:{click:function(e){t.grayPublishDialog=!1}}},[t._v("取消")])],1)]),s("mp-dialog",{staticClass:"comfirm_version_dialog",attrs:{width:650,title:"小程序版本回退","wrap-class":"self-weui-modal",scrollable:!0},model:{value:t.versionBackUp,callback:function(e){t.versionBackUp=e},expression:"versionBackUp"}},[t.versionBackUp?s("div",{staticClass:"dialog_bd"},[s("div",{staticClass:"comfirm_version_box"},[s("div",{staticClass:"comfirm_version_hd"},[s("img",{staticClass:"weapp_code",attrs:{src:"/wxopen/qrcode?action=show&type=3&token="+t.$route.query.token+"&lang=$lang$&r="+Math.random(),alt:""}}),s("p",[t._v("可扫描开发版体验此版本小程序功能")])]),s("div",{staticClass:"comfirm_version_bd"},[s("div",{staticClass:"frm_control_group show_value"},[s("label",{staticClass:"frm_label"},[t._v("版本号")]),s("div",{staticClass:"frm_controls"},[s("span",{staticClass:"frm_input_box"},[t._v(t._s(t.versionBackData.user_version))])])]),s("div",{staticClass:"frm_control_group show_value"},[s("label",{staticClass:"frm_label"},[t._v("开发者")]),s("div",{staticClass:"frm_controls"},[s("span",{staticClass:"frm_input_box"},[t._v(t._s(t.versionBackData.nickname))])])]),s("div",{staticClass:"frm_control_group show_value"},[s("label",{staticClass:"frm_label"},[t._v("发布时间")]),s("div",{staticClass:"frm_controls"},[s("span",{staticClass:"frm_input_box"},[t._v(t._s(t._f("unixFormat")(t.versionBackData.publish_timestamp)))])])]),s("div",{staticClass:"frm_control_group show_value"},[s("label",{staticClass:"frm_label"},[t._v("项目备注")]),s("div",{staticClass:"frm_controls"},[s("span",{staticClass:"frm_input_box"},[t._v(t._s(t._f("filterSpace")(t.versionBackData.user_desc)))])])])])])]):t._e(),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("mp-button",{staticClass:"mr",attrs:{type:"primary"},on:{click:function(e){t.versionBackUp=!1}}},[t._v("取消")]),s("mp-button",{staticClass:"mr",on:{click:t.confirmBack}},[t._v("确认回退")])],1)]),s("mp-dialog",{staticClass:"comfirm_version_dialog",attrs:{width:750,title:"小程序版本回退","wrap-class":"self-weui-modal",scrollable:!0},model:{value:t.showVersionBackDialog,callback:function(e){t.showVersionBackDialog=e},expression:"showVersionBackDialog"}},[1==t.versionBackDialogStep?[s("div",{staticClass:"dialog_bd"},[s("div",{staticClass:"choose-version__content"},[s("p",{staticClass:"choose-version__tips"},[t._v("你可选择回退到以下版本，最多保存最近发布或回退的5个版本。选择版本时请注意是否包含插件版本更新，可以在详情中查看插件版本。")]),s("div",{staticClass:"table_wrp"},[s("table",{staticClass:"table",attrs:{cellspacing:"0"}},[s("thead",{staticClass:"thead"},[s("tr",[s("th",{staticClass:"table_cell",staticStyle:{width:"1%"}}),s("th",{staticClass:"table_cell tl"},[t._v("版本")]),s("th",{staticClass:"table_cell tl"},[t._v("更新原因")]),s("th",{staticClass:"table_cell tr"},[t._v("更新时间")])])]),s("tbody",{staticClass:"tbody"},t._l(t.cgiData.historyVersionList,(function(e,i){return s("tr",{key:i,staticClass:"clickable_row",on:{click:function(a){return t.selectRollbackVersion(e,i)}}},[s("td",{staticClass:"table_cell js_version_radio"},[s("mp-radio-group",{attrs:{name:"version"},model:{value:t.versionBackSelectVersion,callback:function(e){t.versionBackSelectVersion=e},expression:"versionBackSelectVersion"}},[s("mp-radio",{attrs:{value:e.version}})],1)],1),s("td",{staticClass:"table_cell tl"},[t._v(t._s(e.userVersion))]),s("td",{staticClass:"table_cell tl"},[t._v(t._s(t._f("filterSpace")(e.userDesc)))]),s("td",{staticClass:"table_cell"},[t._v(t._s(t._f("unixFormat")(e.publishTime)))])])})),0)])])])]),s("template",{slot:"footer"},[s("mp-button",{on:{click:function(e){t.showVersionBackDialog=!1}}},[t._v("取消")]),s("mp-button",{attrs:{type:"primary",disabled:!t.versionBackSelectVersion},on:{click:function(e){t.versionBackDialogStep=2}}},[t._v("下一步")])],1)]:[s("div",{staticClass:"dialog_bd"},[s("div",{staticClass:"comfirm_version_box"},[s("div",{staticClass:"comfirm_version_hd"},[s("img",{staticClass:"weapp_code",attrs:{src:t.addToken("/wxopen/qrcode?action=show&type=3&app_version="+t.versionBackSelectVersion),alt:""}}),s("p",[t._v("可扫描开发版体验此版本小程序功能")])]),s("div",{staticClass:"comfirm_version_bd"},[s("div",{staticClass:"frm_control_group show_value"},[s("label",{staticClass:"frm_label"},[t._v("版本号")]),s("div",{staticClass:"frm_controls"},[s("span",{staticClass:"frm_input_box"},[t._v(t._s(t.versionBackDataNew.userVersion))])])]),s("div",{staticClass:"frm_control_group show_value"},[s("label",{staticClass:"frm_label"},[t._v("开发者")]),s("div",{staticClass:"frm_controls"},[s("span",{staticClass:"frm_input_box"},[t._v(t._s(t.versionBackDataNew.devUser))])])]),s("div",{staticClass:"frm_control_group show_value"},[s("label",{staticClass:"frm_label"},[t._v("发布时间")]),s("div",{staticClass:"frm_controls"},[s("span",{staticClass:"frm_input_box"},[t._v(t._s(t._f("unixFormat")(t.versionBackDataNew.publishTime)))])])]),s("div",{staticClass:"frm_control_group show_value"},[s("label",{staticClass:"frm_label"},[t._v("项目备注")]),s("div",{staticClass:"frm_controls"},[s("span",{staticClass:"frm_input_box"},[t._v(t._s(t._f("filterSpace")(t.versionBackDataNew.userDesc)))])])]),s("div",{staticClass:"frm_control_group show_value"},[s("label",{staticClass:"frm_label"},[t._v("插件版本")]),s("div",{staticClass:"frm_controls"},[s("span",{staticClass:"frm_input_box"},t._l(t.versionBackDataNew.pluginList,(function(e,i){return s("span",{key:"item"+i},[t._v(t._s(e.nickname)+"(版本"+t._s(e.pluginVersion)+")"+t._s(i!==t.versionBackDataNew.pluginList.length-1?"、":""))])})),0)])])])])]),s("template",{slot:"footer"},[s("mp-button",{on:{click:function(e){t.showVersionBackDialog=!1}}},[t._v("取消")]),s("mp-button",{attrs:{type:"primary"},on:{click:t.confirmRollBackNew}},[t._v("确认回退")])],1)]],2),s("mp-dialog",{staticClass:"weui-desktop-dialog_self",attrs:{title:"小程序版本回退","wrap-class":"self-weui-modal",scrollable:!0},model:{value:t.versionBackScanCodeNew,callback:function(e){t.versionBackScanCodeNew=e},expression:"versionBackScanCodeNew"}},[s("div",{staticClass:"dialog_bd"},[t.versionBackScanCodeNew?s("QrCheck",{attrs:{data:t.versionBackScanCodeDataNew,cgiid:"8",width:"200",height:"200"},on:{donecb:t.handleVersionBackQrNew}},[s("div",{attrs:{slot:"wait"},slot:"wait"},[t._v("请使用微信扫描二维码进行验证")])]):t._e()],1)]),s("mp-dialog",{staticClass:"weui-desktop-dialog_self",attrs:{title:"小程序版本回退","wrap-class":"self-weui-modal",scrollable:!0},model:{value:t.versionBackScanCode,callback:function(e){t.versionBackScanCode=e},expression:"versionBackScanCode"}},[s("div",{staticClass:"dialog_bd"},[t.versionBackScanCode?s("QrCheck",{attrs:{data:t.versionBackScanCodeData,cgiid:"8",width:"200",height:"200"},on:{donecb:t.handleVersionBackQr}},[s("div",{attrs:{slot:"wait"},slot:"wait"},[t._v("请使用微信扫描二维码进行验证")])]):t._e()],1)]),s("mp-dialog",{class:t.versionTpl?"gray_detail_dialog":"simple detail_dialog",attrs:{title:"版本详情","wrap-class":"self-weui-modal",scrollable:!0},model:{value:t.versionDeatil,callback:function(e){t.versionDeatil=e},expression:"versionDeatil"}},[s("div",{staticClass:"dialog_bd"},[0===t.versionTpl?s("div",{staticClass:"simple_dialog_content"},[s("div",{staticClass:"simple_preview_box"},[t.versionInfo.basic_info.is_speedup?s("div",{staticClass:"simple_preview_item"},[t.versionInfo.isBusy?s("div",{staticClass:"simple_preview_value"},[t._v("加急人数较多，提交审核后，预计在工作时间"+t._s(t.versionInfo.usetime)+"小时内完成。工作时间：工作日(9:00-11:45，13:45-17:45，19:00-21:00)；周末(9:00--11:45，13:45-17:45)")]):s("div",{staticClass:"simple_preview_value"},[t._v("提交审核后，预计在工作时间"+t._s(t.versionInfo.usetime)+"小时内完成。")])]):t._e(),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("版本号")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t.versionInfo.basic_info.version))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("开发者")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t.versionInfo.basic_info.nick_name))])]),t.versionInfo.basic_info.status?t._e():s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("发布时间")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat").apply(void 0,[t.versionInfo.detail_info.publish_time,"YYYY-MM-DD"].concat(i))))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("项目备注")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("filterSpace")(t.versionInfo.basic_info.describe)))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("提交审核时间")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat").apply(void 0,[t.versionInfo.detail_info.summit_check_time,"YYYY-MM-DD"].concat(i))))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("代码提交时间")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat").apply(void 0,[t.versionInfo.detail_info.commit_time,"YYYY-MM-DD"].concat(i))))])])])]):s("div",{staticClass:"simple_dialog_content"},[s("div",{staticClass:"simple_preview_box"},[s("h4",{staticClass:"simple_preview_title"},[t._v("灰度发布信息")]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("当前发布比例")]),s("div",{staticClass:"simple_preview_value"},[t._v("已覆盖"+t._s(t.versionInfo.gray_info.gray_percent)+"%用户")])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("首次发布时间")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat").apply(void 0,[t.versionInfo.gray_info.first_gray_time,"YYYY-MM-DD"].concat(i))))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("最晚全量发布时间")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat").apply(void 0,[t.versionInfo.gray_info.all_gray_time,"YYYY-MM-DD"].concat(i))))])])]),s("div",{staticClass:"simple_preview_box"},[s("h4",{staticClass:"simple_preview_title"},[t._v("版本信息")]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("版本号")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t.versionInfo.basic_info.version))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("开发者")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t.versionInfo.basic_info.nick_name))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("项目备注")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("filterSpace")(t.versionInfo.basic_info.describe)))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("提交审核时间")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat").apply(void 0,[t.versionInfo.detail_info.summit_check_time,"YYYY-MM-DD"].concat(i))))])]),s("div",{staticClass:"simple_preview_item"},[s("label",{staticClass:"simple_preview_label",attrs:{for:""}},[t._v("代码提交时间")]),s("div",{staticClass:"simple_preview_value"},[t._v(t._s(t._f("unixFormat").apply(void 0,[t.versionInfo.detail_info.commit_time,"YYYY-MM-DD"].concat(i))))])])])])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("mp-button",{on:{click:function(e){t.versionDeatil=!1}}},[t._v("关闭")])],1)]),s("dialog-set",{attrs:{dialogName:t.dialogName,dataContent:t.dataContent,cgiData:t.cgiData},on:{"update:dialogName":function(e){t.dialogName=e},"update:dialog-name":function(e){t.dialogName=e}}})],1)}),[function(){var e=this.$createElement,i=this._self._c||e;return i("span",{staticClass:"msg_icon_wrp"},[i("i",{staticClass:"icon_msg_mini info"})])},function(){var e=this.$createElement,i=this._self._c||e;return i("span",{staticClass:"msg_icon_wrp"},[i("i",{staticClass:"icon_msg_mini warn"})])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"mod_default_hd online_version"},[i("h4",[this._v("线上版本")])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"mod_default_hd test_version"},[i("h4",[this._v("审核版本")])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"mod_default_hd"},[i("h4",[this._v("开发版本")])])}],!1,null,null,null);i.default=E.exports},531:function(e,i){e.exports="https://res.wx.qq.com/mmbizwxampnodelogicsvr_node/dist/images/index_z_@all_006ec1.png"},532:function(e,i){e.exports="https://res.wx.qq.com/mmbizwxampnodelogicsvr_node/dist/images/index_z_@2_7ec0f1.png"},729:function(e,i,t){var a=t(1183);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,t(13).default)("e1555b22",a,!0,{})}}]);